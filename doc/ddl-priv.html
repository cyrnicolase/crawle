<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>权限</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.0 手册"
HREF="index.html"><LINK
REL="UP"
TITLE="数据定义"
HREF="ddl.html"><LINK
REL="PREVIOUS"
TITLE="修改表"
HREF="ddl-alter.html"><LINK
REL="NEXT"
TITLE="行安全性策略"
HREF="ddl-rowsecurity.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2017-12-17T04:56:33"></HEAD
><BODY
CLASS="SECT1"
>
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/9.6/postgresql/doc/src/sgml/ddl.sgml" target="_blank" 
title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.0 手册</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="修改表"
HREF="ddl-alter.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="ddl.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>&#31456; 5. 数据定义</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="行安全性策略"
HREF="ddl-rowsecurity.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DDL-PRIV"
>5.6. 权限</A
></H1
><P
>   一旦一个对象被创建，它会被分配一个所有者。所有者通常是执行创建语句的角色。对于大部分类型的对象，初始状态下只有所有者（或者超级用户）能够对该对象做任何事情。为了允许其他角色使用它，必须分配<I
CLASS="FIRSTTERM"
>权限</I
>。
  </P
><P
>   有多种不同的权限：<TT
CLASS="LITERAL"
>SELECT</TT
>、<TT
CLASS="LITERAL"
>INSERT</TT
>、<TT
CLASS="LITERAL"
>UPDATE</TT
>、<TT
CLASS="LITERAL"
>DELETE</TT
>、<TT
CLASS="LITERAL"
>TRUNCATE</TT
>、<TT
CLASS="LITERAL"
>REFERENCES</TT
>、<TT
CLASS="LITERAL"
>TRIGGER</TT
>、<TT
CLASS="LITERAL"
>CREATE</TT
>、<TT
CLASS="LITERAL"
>CONNECT</TT
>、<TT
CLASS="LITERAL"
>TEMPORARY</TT
>、<TT
CLASS="LITERAL"
>EXECUTE</TT
>以及<TT
CLASS="LITERAL"
>USAGE</TT
>。可以应用于一个特定对象的权限随着对象的类型（表、函数等）而不同。<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>所支持的不同类型的完整权限信息请参考<A
HREF="sql-grant.html"
>GRANT</A
>。下面的章节将简单介绍如何使用这些权限。
  </P
><P
>   修改或销毁一个对象的权力通常是只有所有者才有的权限。
  </P
><P
>   一个对象可以通过该对象类型相应的<TT
CLASS="COMMAND"
>ALTER</TT
>命令来重新分配所有者，例如<A
HREF="sql-altertable.html"
>ALTER TABLE</A
>。超级用户总是可以做到这点，普通角色只有同时是对象的当前所有者（或者是拥有角色的一个成员）以及新拥有角色的一个成员时才能做同样的事。
  </P
><P
>   要分配权限，可以使用<TT
CLASS="COMMAND"
>GRANT</TT
>命令。例如，如果<TT
CLASS="LITERAL"
>joe</TT
>是一个已有角色，而<TT
CLASS="LITERAL"
>accounts</TT
>是一个已有表，更新该表的权限可以按如下方式授权：
</P><PRE
CLASS="PROGRAMLISTING"
>GRANT UPDATE ON accounts TO joe;</PRE
><P>
   用<TT
CLASS="LITERAL"
>ALL</TT
>取代特定权限会把与对象类型相关的所有权限全部授权。
  </P
><P
>   一个特殊的名为<TT
CLASS="LITERAL"
>PUBLIC</TT
>的<SPAN
CLASS="QUOTE"
>"角色"</SPAN
>可以用来向系统中的每一个角色授予一个权限。同时，在数据库中有很多用户时可以设置<SPAN
CLASS="QUOTE"
>"组"</SPAN
>角色来帮助管理权限。详见<A
HREF="user-manag.html"
>第 21 &#31456;</A
>。
  </P
><P
>   为了撤销一个权限，使用<TT
CLASS="COMMAND"
>REVOKE</TT
>命令：
</P><PRE
CLASS="PROGRAMLISTING"
>REVOKE ALL ON accounts FROM PUBLIC;</PRE
><P>
   对象拥有者的特殊权限（即执行<TT
CLASS="COMMAND"
>DROP</TT
>、<TT
CLASS="COMMAND"
>GRANT</TT
>、<TT
CLASS="COMMAND"
>REVOKE</TT
>等的权力）总是隐式地属于拥有者，并且不能被授予或撤销。但是对象拥有者可以选择撤销他们自己的普通权限，例如把一个表变得对他们自己和其他人只读。
  </P
><P
>   一般情况下，只有对象拥有者（或者超级用户）可以授予或撤销一个对象上的权限。但是可以在授予权限时使用<SPAN
CLASS="QUOTE"
>"with grant option"</SPAN
>来允许接收人将权限转授给其他人。如果后来授予选项被撤销，则所有从接收人那里获得的权限（直接或者通过授权链获得）都将被撤销。更多详情请见<A
HREF="sql-grant.html"
>GRANT</A
>和<A
HREF="sql-revoke.html"
>REVOKE</A
>参考页。
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="ddl-alter.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#36215;&#22987;&#39029;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="ddl-rowsecurity.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>修改表</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ddl.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>行安全性策略</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
