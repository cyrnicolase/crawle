<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>pg_settings</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.0 手册"
HREF="index.html"><LINK
REL="UP"
TITLE="系统目录"
HREF="catalogs.html"><LINK
REL="PREVIOUS"
TITLE="pg_seclabels"
HREF="view-pg-seclabels.html"><LINK
REL="NEXT"
TITLE="pg_shadow"
HREF="view-pg-shadow.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2017-12-17T04:56:33"></HEAD
><BODY
CLASS="SECT1"
>
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/9.6/postgresql/doc/src/sgml/catalogs.sgml" target="_blank" 
title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.0 手册</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="pg_seclabels"
HREF="view-pg-seclabels.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="catalogs.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>&#31456; 50. 系统目录</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="pg_shadow"
HREF="view-pg-shadow.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="VIEW-PG-SETTINGS"
>50.75. <TT
CLASS="STRUCTNAME"
>pg_settings</TT
></A
></H1
><P
>   视图<TT
CLASS="STRUCTNAME"
>pg_settings</TT
>提供了对服务器上运行时参数的访问。它本质上是<A
HREF="sql-show.html"
>SHOW</A
>和<A
HREF="sql-set.html"
>SET</A
>命令的可替换接口。它还提供了<TT
CLASS="COMMAND"
>SHOW</TT
>不能提供的关于每一个参数的一些现实，例如最大值和最小值。
  </P
><DIV
CLASS="TABLE"
><A
NAME="AEN111663"
></A
><P
><B
>&#34920; 50-76. <TT
CLASS="STRUCTNAME"
>pg_settings</TT
>的列</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>名字</TH
><TH
>类型</TH
><TH
>描述</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>name</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>运行时配置参数名</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>setting</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>参数的当前值</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>unit</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>参数的隐式单元</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>category</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>参数的逻辑组</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>short_desc</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>参数的简短描述</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>extra_desc</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>附加的参数的详细描述</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>context</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>要求设置此参数值的上下文</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>vartype</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>参数类型（<TT
CLASS="LITERAL"
>bool</TT
>、<TT
CLASS="LITERAL"
>enum</TT
>、
       <TT
CLASS="LITERAL"
>integer</TT
>、<TT
CLASS="LITERAL"
>real</TT
>或<TT
CLASS="LITERAL"
>string</TT
>）
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>source</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>当前参数值的来源</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>min_val</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>参数的最小允许值（对非数字值为空）</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>max_val</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>参数的最大允许值（对非数字值为空）</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>enumvals</TT
></TD
><TD
><TT
CLASS="TYPE"
>text[]</TT
></TD
><TD
>一个枚举参数的允许值（对非数字值为空）</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>boot_val</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>如果参数没有被别的其他设置，此列为在服务器启动时设定的参数值</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>reset_val</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>在当前会话中，<TT
CLASS="COMMAND"
>RESET</TT
>将会设置的参数值</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>sourcefile</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>当前值所在的配置文件（如果值是从配置文件之外的其他来源设置的，或者被一个非超级用户查看时，此列为空）；当在配置文件中使用<TT
CLASS="LITERAL"
>include</TT
>指令时有用</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>sourceline</TT
></TD
><TD
><TT
CLASS="TYPE"
>integer</TT
></TD
><TD
>当前值在配置文件中的行号（如果值是从配置文件之外的其他来源设置的，或者被一个非超级用户查看时，此列为空）
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>pending_restart</TT
></TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>如果配置文件中修改了该值但需要重启，则为<TT
CLASS="LITERAL"
>true</TT
>，
      否则为<TT
CLASS="LITERAL"
>false</TT
>。
      </TD
></TR
></TBODY
></TABLE
></DIV
><P
>   对于<TT
CLASS="STRUCTFIELD"
>context</TT
>有多种可能的取值。为了降低改变设置的难度，它们是：
  </P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>internal</TT
></DT
><DD
><P
>      这些设置不能被直接修改，它们反映了内部决定的值。某些可能在使用不同配置选项重建系统时或者改变<TT
CLASS="COMMAND"
>initdb</TT
>的选项时可以调整。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>postmaster</TT
></DT
><DD
><P
>      这些设置只能在服务器启动时应用，因此任何修改都需要重启服务器。这些设置的值通常都存储在<TT
CLASS="FILENAME"
>postgresql.conf</TT
>文件中，或者在启动服务器时通过命令行传递。当然，具有更低<TT
CLASS="STRUCTFIELD"
>context</TT
>类型的设置也可以在服务器启动时间被设置。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>sighup</TT
></DT
><DD
><P
>      对于这些设置的修改可以在<TT
CLASS="FILENAME"
>postgresql.conf</TT
>中完成并且不需要重启服务器。发送一个<SPAN
CLASS="SYSTEMITEM"
>SIGHUP</SPAN
>信号给postmaster会导致它重新读取<TT
CLASS="FILENAME"
>postgresql.conf</TT
>并应用修改。Postmaster将会把<SPAN
CLASS="SYSTEMITEM"
>SIGHUP</SPAN
>信号传递给它的孩子进程，这样它们也会获得新的值。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>superuser-backend</TT
></DT
><DD
><P
>      对于这些设置的更改可以在<TT
CLASS="FILENAME"
>postgresql.conf</TT
>中进
      行而无需重启服务器。也可以在连接请求包（例如通过<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>
      的<TT
CLASS="LITERAL"
>PGOPTIONS</TT
>环境变量）中为一个特定的会话设定它们，但是
      只有在连接用户是超级用户时才能这样做。如果，在会话启动后这些设置就
      不会改变。如果你在<TT
CLASS="FILENAME"
>postgresql.conf</TT
>改变了它们，
      向 postmaster 发送一个<SPAN
CLASS="SYSTEMITEM"
>SIGHUP</SPAN
>信号让
      postmaster 重新读取<TT
CLASS="FILENAME"
>postgresql.conf</TT
>。新的值将
      只会影响后续启动的会话。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>backend</TT
></DT
><DD
><P
>      对于这些设置的修改可以在<TT
CLASS="FILENAME"
>postgresql.conf</TT
>中完成并且不需要重启服务器。它们也可以在一个连接请求包（例如，通过<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>的<TT
CLASS="LITERAL"
>PGOPTIONS</TT
>环境变量）中为一个特定会话设置 ，任何用户都可以为这个会话做这种修改。然而，这些设置在会话启动后永不变化。如果你在<TT
CLASS="FILENAME"
>postgresql.conf</TT
>中修改它们，可以向postmaster发送一个<SPAN
CLASS="SYSTEMITEM"
>SIGHUP</SPAN
>信号让它重读<TT
CLASS="FILENAME"
>postgresql.conf</TT
>。新值只会影响后续启动的会话。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>superuser</TT
></DT
><DD
><P
>      这些设置可以从<TT
CLASS="FILENAME"
>postgresql.conf</TT
>设置，或者在会话中用<TT
CLASS="COMMAND"
>SET</TT
>命令设置。仅当没有通过<TT
CLASS="COMMAND"
>SET</TT
>设置会话本地值时，<TT
CLASS="FILENAME"
>postgresql.conf</TT
>中的改变才会影响现有的会话。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>user</TT
></DT
><DD
><P
>      这些设置可以从<TT
CLASS="FILENAME"
>postgresql.conf</TT
>设置，或者在会话中用<TT
CLASS="COMMAND"
>SET</TT
>命令设置。任何用户都被允许修改它们的会话本地值。仅当没有通过<TT
CLASS="COMMAND"
>SET</TT
>设置会话本地值时，<TT
CLASS="FILENAME"
>postgresql.conf</TT
>中的改变才会影响现有的会话。
     </P
></DD
></DL
></DIV
><P
>   更多关于修改这些参数的方法的信息请见<A
HREF="config-setting.html"
>第 19.1 &#33410;</A
>。
  </P
><P
>   <TT
CLASS="STRUCTNAME"
>pg_settings</TT
>视图不能被插入或者从中删除，但是它可以被更新。在<TT
CLASS="STRUCTNAME"
>pg_settings</TT
>的一行上的一个<TT
CLASS="COMMAND"
>UPDATE</TT
>等价于在该参数上执行一个<A
HREF="sql-set.html"
>SET</A
>命令。修改将只会影响当前会话使用的值。如果一个<TT
CLASS="COMMAND"
>UPDATE</TT
>在一个后来中断的事务中被发出，<TT
CLASS="COMMAND"
>UPDATE</TT
>命令的效果也会随着事务的回滚而消失。一旦所在的事务被提交，效果将一直保持到会话结束，除非有其他<TT
CLASS="COMMAND"
>UPDATE</TT
>或   <TT
CLASS="COMMAND"
>SET</TT
>重新修改它。
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="view-pg-seclabels.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#36215;&#22987;&#39029;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="view-pg-shadow.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><TT
CLASS="STRUCTNAME"
>pg_seclabels</TT
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="catalogs.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><TT
CLASS="STRUCTNAME"
>pg_shadow</TT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
