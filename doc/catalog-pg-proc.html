<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>pg_proc</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.0 手册"
HREF="index.html"><LINK
REL="UP"
TITLE="系统目录"
HREF="catalogs.html"><LINK
REL="PREVIOUS"
TITLE="pg_policy"
HREF="catalog-pg-policy.html"><LINK
REL="NEXT"
TITLE="pg_range"
HREF="catalog-pg-range.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2017-12-17T04:56:33"></HEAD
><BODY
CLASS="SECT1"
>
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/9.6/postgresql/doc/src/sgml/catalogs.sgml" target="_blank" 
title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.0 手册</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="pg_policy"
HREF="catalog-pg-policy.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="catalogs.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>&#31456; 50. 系统目录</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="pg_range"
HREF="catalog-pg-range.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="CATALOG-PG-PROC"
>50.38. <TT
CLASS="STRUCTNAME"
>pg_proc</TT
></A
></H1
><P
>   目录<TT
CLASS="STRUCTNAME"
>pg_proc</TT
>存储关于函数（或过程）的信息。详见<A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>和<A
HREF="xfunc.html"
>第 36.3 &#33410;</A
>。
  </P
><P
>   该表也包含了聚集函数的数据。如果<TT
CLASS="STRUCTFIELD"
>proisagg</TT
>为真，在<TT
CLASS="STRUCTFIELD"
>pg_aggregate</TT
>中应该有一个相匹配的行。
  </P
><DIV
CLASS="TABLE"
><A
NAME="AEN108048"
></A
><P
><B
>&#34920; 50-38. <TT
CLASS="STRUCTNAME"
>pg_proc</TT
>的列</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><COL><THEAD
><TR
><TH
>名称</TH
><TH
>类型</TH
><TH
>引用</TH
><TH
>描述</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>oid</TT
></TD
><TD
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
>&nbsp;</TD
><TD
>行标识符（隐藏属性，必须被显式选择才会显示）</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proname</TT
></TD
><TD
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
>&nbsp;</TD
><TD
>函数的名字</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>pronamespace</TT
></TD
><TD
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
><TT
CLASS="LITERAL"
><A
HREF="catalog-pg-namespace.html"
><TT
CLASS="STRUCTNAME"
>pg_namespace</TT
></A
>.oid</TT
></TD
><TD
>       函数所属的名字空间的OID
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proowner</TT
></TD
><TD
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
><TT
CLASS="LITERAL"
><A
HREF="catalog-pg-authid.html"
><TT
CLASS="STRUCTNAME"
>pg_authid</TT
></A
>.oid</TT
></TD
><TD
>函数的拥有者</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>prolang</TT
></TD
><TD
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
><TT
CLASS="LITERAL"
><A
HREF="catalog-pg-language.html"
><TT
CLASS="STRUCTNAME"
>pg_language</TT
></A
>.oid</TT
></TD
><TD
>实现语言或该函数的调用接口</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>procost</TT
></TD
><TD
><TT
CLASS="TYPE"
>float4</TT
></TD
><TD
>&nbsp;</TD
><TD
>估计的执行代价（以<A
HREF="runtime-config-query.html#GUC-CPU-OPERATOR-COST"
>cpu_operator_cost</A
>为单位），如果<TT
CLASS="STRUCTFIELD"
>proretset</TT
>为真，这是每行返回的代价</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>prorows</TT
></TD
><TD
><TT
CLASS="TYPE"
>float4</TT
></TD
><TD
>&nbsp;</TD
><TD
>估计的结果行数量（如果<TT
CLASS="STRUCTFIELD"
>proretset</TT
>为假，该值为0）</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>provariadic</TT
></TD
><TD
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
><TT
CLASS="LITERAL"
><A
HREF="catalog-pg-type.html"
><TT
CLASS="STRUCTNAME"
>pg_type</TT
></A
>.oid</TT
></TD
><TD
>可变数组参数的元素的数据类型，如果函数没有可变参数则为0</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>protransform</TT
></TD
><TD
><TT
CLASS="TYPE"
>regproc</TT
></TD
><TD
><TT
CLASS="LITERAL"
><A
HREF="catalog-pg-proc.html"
><TT
CLASS="STRUCTNAME"
>pg_proc</TT
></A
>.oid</TT
></TD
><TD
>调用该函数时可以通过此列指定的函数来简化（见<A
HREF="xfunc-c.html#XFUNC-TRANSFORM-FUNCTIONS"
>第 36.9.11 &#33410;</A
>）</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proisagg</TT
></TD
><TD
><TT
CLASS="TYPE"
>bool</TT
></TD
><TD
>&nbsp;</TD
><TD
>函数是否为一个聚集函数</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proiswindow</TT
></TD
><TD
><TT
CLASS="TYPE"
>bool</TT
></TD
><TD
>&nbsp;</TD
><TD
>函数是否为一个窗口函数</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>prosecdef</TT
></TD
><TD
><TT
CLASS="TYPE"
>bool</TT
></TD
><TD
>&nbsp;</TD
><TD
>函数是一个安全性定义者（即，一个<SPAN
CLASS="QUOTE"
>"setuid"</SPAN
>函数）</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proleakproof</TT
></TD
><TD
><TT
CLASS="TYPE"
>bool</TT
></TD
><TD
>&nbsp;</TD
><TD
>       该函数没有副作用。除了通过返回值，没有关于参数的信息被传播。任何会抛出基于其参数值的错误信息的函数都不是泄露验证的。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proisstrict</TT
></TD
><TD
><TT
CLASS="TYPE"
>bool</TT
></TD
><TD
>&nbsp;</TD
><TD
>       当任意调用函数为空时，函数是否会返回空值。在那种情况下函数实际上根本不会被调用。非<SPAN
CLASS="QUOTE"
>"strict"</SPAN
>函数必须准备好处理空值输入。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proretset</TT
></TD
><TD
><TT
CLASS="TYPE"
>bool</TT
></TD
><TD
>&nbsp;</TD
><TD
>函数是否返回一个集合（即，指定数据类型的多个值）</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>provolatile</TT
></TD
><TD
><TT
CLASS="TYPE"
>char</TT
></TD
><TD
>&nbsp;</TD
><TD
>       <TT
CLASS="STRUCTFIELD"
>provolatile</TT
>说明函数是仅仅只依赖于它的输入参数，还是会被外部因素影响。值<TT
CLASS="LITERAL"
>i</TT
>表示<SPAN
CLASS="QUOTE"
>"不变的"</SPAN
>函数，它对于相同的输入总是输出相同的结果。值<TT
CLASS="LITERAL"
>s</TT
>表示<SPAN
CLASS="QUOTE"
>"稳定的"</SPAN
>函数，它的结果（对于固定输入）在一次扫描内不会变化。值<TT
CLASS="LITERAL"
>v</TT
>表示<SPAN
CLASS="QUOTE"
>"不稳定的"</SPAN
>函数，它的结果在任何时候都可能变化（使用<TT
CLASS="LITERAL"
>v</TT
>页表示函数具有副作用，所以对它们的调用无法得到优化）
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proparallel</TT
></TD
><TD
><TT
CLASS="TYPE"
>char</TT
></TD
><TD
>&nbsp;</TD
><TD
>       <TT
CLASS="STRUCTFIELD"
>proparallel</TT
>说明该函数在并行模式下是否能安全地运行。对于能在并行模式下不受限制安全运行的函数，这列是<TT
CLASS="LITERAL"
>s</TT
>。对于可以在并行模式下运行但是只限于由并行分组的领导者执行的函数，这列是<TT
CLASS="LITERAL"
>r</TT
>。对于在并行模式中不安全的函数，这列是<TT
CLASS="LITERAL"
>u</TT
>，这种函数的存在会强制一个顺序执行计划。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>pronargs</TT
></TD
><TD
><TT
CLASS="TYPE"
>int2</TT
></TD
><TD
>&nbsp;</TD
><TD
>输入参数的个数</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>pronargdefaults</TT
></TD
><TD
><TT
CLASS="TYPE"
>int2</TT
></TD
><TD
>&nbsp;</TD
><TD
>具有默认值的参数个数</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>prorettype</TT
></TD
><TD
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
><TT
CLASS="LITERAL"
><A
HREF="catalog-pg-type.html"
><TT
CLASS="STRUCTNAME"
>pg_type</TT
></A
>.oid</TT
></TD
><TD
>返回值的数据类型</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proargtypes</TT
></TD
><TD
><TT
CLASS="TYPE"
>oidvector</TT
></TD
><TD
><TT
CLASS="LITERAL"
><A
HREF="catalog-pg-type.html"
><TT
CLASS="STRUCTNAME"
>pg_type</TT
></A
>.oid</TT
></TD
><TD
>       一个函数参数的数据类型的数组。这只包括输入参数（含<TT
CLASS="LITERAL"
>INOUT</TT
>和<TT
CLASS="LITERAL"
>VARIADIC</TT
>参数），因此也表现了函数的调用特征。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proallargtypes</TT
></TD
><TD
><TT
CLASS="TYPE"
>oid[]</TT
></TD
><TD
><TT
CLASS="LITERAL"
><A
HREF="catalog-pg-type.html"
><TT
CLASS="STRUCTNAME"
>pg_type</TT
></A
>.oid</TT
></TD
><TD
>       一个函数参数的数据类型的数组。这包括所有参数（含<TT
CLASS="LITERAL"
>OUT</TT
>和<TT
CLASS="LITERAL"
>INOUT</TT
>参数）。但是，如果所有参数都是<TT
CLASS="LITERAL"
>IN</TT
>参数，这个域将为空。注意下标是从1开始 ，然而由于历史原因<TT
CLASS="STRUCTFIELD"
>proargtypes</TT
>的下标是从0开始。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proargmodes</TT
></TD
><TD
><TT
CLASS="TYPE"
>char[]</TT
></TD
><TD
>&nbsp;</TD
><TD
>        一个函数参数的模式的数组。编码为：
        <TT
CLASS="LITERAL"
>i</TT
>表示<TT
CLASS="LITERAL"
>IN</TT
>参数 ，
        <TT
CLASS="LITERAL"
>o</TT
>表示<TT
CLASS="LITERAL"
>OUT</TT
>参数，
        <TT
CLASS="LITERAL"
>b</TT
>表示<TT
CLASS="LITERAL"
>INOUT</TT
>参数，
        <TT
CLASS="LITERAL"
>v</TT
>表示<TT
CLASS="LITERAL"
>VARIADIC</TT
>参数，
        <TT
CLASS="LITERAL"
>t</TT
>表示<TT
CLASS="LITERAL"
>TABLE</TT
>参数。
        如果所有的参数都是<TT
CLASS="LITERAL"
>IN</TT
>参数，这个域为空。注意这里的下标对应着<TT
CLASS="STRUCTFIELD"
>proallargtypes</TT
>而不是<TT
CLASS="STRUCTFIELD"
>proargtypes</TT
>中的位置。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proargnames</TT
></TD
><TD
><TT
CLASS="TYPE"
>text[]</TT
></TD
><TD
>&nbsp;</TD
><TD
>        一个函数参数的名字的数组。没有名字的参数在数组中设置为空字符串。如果没有一个参数有名字，这个域为空。注意这里的下标对应着<TT
CLASS="STRUCTFIELD"
>proallargtypes</TT
>而不是<TT
CLASS="STRUCTFIELD"
>proargtypes</TT
>中的位置。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proargdefaults</TT
></TD
><TD
><TT
CLASS="TYPE"
>pg_node_tree</TT
></TD
><TD
>&nbsp;</TD
><TD
>       默认值的表达式树（按照<CODE
CLASS="FUNCTION"
>nodeToString()</CODE
>的表现方式）。这是一个<TT
CLASS="STRUCTFIELD"
>pronargdefaults</TT
>元素的列表，对应于最后<TT
CLASS="REPLACEABLE"
><I
>N</I
></TT
>个<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>input</I
></SPAN
>参数（即最后<TT
CLASS="REPLACEABLE"
><I
>N</I
></TT
>个<TT
CLASS="STRUCTFIELD"
>proargtypes</TT
>位置）。如果没有一个参数具有默认值，这个域为空。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>protrftypes</TT
></TD
><TD
><TT
CLASS="TYPE"
>oid[]</TT
></TD
><TD
>&nbsp;</TD
><TD
>       要在其上应用转换的数据类型的 OID。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>prosrc</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>&nbsp;</TD
><TD
>       这个域告诉函数处理者如何调用该函数。它可能是针对解释型语言的真实源码、一个符号链接、一个文件名或任何其他东西，这取决于实现语言/调用规范。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>probin</TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>&nbsp;</TD
><TD
>       关于如何调用函数的附加信息。其解释是与语言相关的。
      </TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proconfig</TT
></TD
><TD
><TT
CLASS="TYPE"
>text[]</TT
></TD
><TD
>&nbsp;</TD
><TD
>函数对于运行时配置变量的本地设置值</TD
></TR
><TR
><TD
><TT
CLASS="STRUCTFIELD"
>proacl</TT
></TD
><TD
><TT
CLASS="TYPE"
>aclitem[]</TT
></TD
><TD
>&nbsp;</TD
><TD
>       访问权限，详见<A
HREF="sql-grant.html"
>GRANT</A
>和<A
HREF="sql-revoke.html"
>REVOKE</A
>
      </TD
></TR
></TBODY
></TABLE
></DIV
><P
>   对于编译好的函数，包括内建的和动态载入的，<TT
CLASS="STRUCTFIELD"
>prosrc</TT
>包含了函数的C语言名字（链接符号）。对于所有其他已知的语言类型，<TT
CLASS="STRUCTFIELD"
>prosrc</TT
>包含函数的源码文本。除了对于动态载入的C函数之外，<TT
CLASS="STRUCTFIELD"
>probin</TT
>是不被使用的。对于动态载入的C函数，它给定了包含该函数的共享库文件的名称。
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="catalog-pg-policy.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#36215;&#22987;&#39029;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="catalog-pg-range.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><TT
CLASS="STRUCTNAME"
>pg_policy</TT
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="catalogs.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><TT
CLASS="STRUCTNAME"
>pg_range</TT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
