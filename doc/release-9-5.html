<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>版本 9.5</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.0 手册"
HREF="index.html"><LINK
REL="UP"
TITLE="版本说明"
HREF="release.html"><LINK
REL="PREVIOUS"
TITLE="版本 9.5.1"
HREF="release-9-5-1.html"><LINK
REL="NEXT"
TITLE="版本 9.4.9"
HREF="release-9-4-9.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2017-12-17T04:56:33"></HEAD
><BODY
CLASS="SECT1"
>
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/9.6/postgresql/doc/src/sgml/release-9.5.sgml" target="_blank" 
title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.0 手册</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="版本 9.5.1"
HREF="release-9-5-1.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>&#38468;&#24405; E. 版本说明</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="版本 9.4.9"
HREF="release-9-4-9.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELEASE-9-5"
>E.6. 版本 9.5</A
></H1
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>发布日期: </B
>2016-01-07</P
></BLOCKQUOTE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN132155"
>E.6.1. 概述</A
></H2
><P
>    <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 9.5中的主要改进包括：
   </P
><P
></P
><UL
><LI
><P
>      允许<A
HREF="sql-insert.html#SQL-ON-CONFLICT"
><TT
CLASS="COMMAND"
>INSERT</TT
></A
>
      将生成约束冲突转换为<TT
CLASS="COMMAND"
>UPDATE</TT
>或者忽略
     </P
></LI
><LI
><P
>      添加<TT
CLASS="LITERAL"
>GROUP BY</TT
>分析特征<A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>GROUPING SETS</TT
></A
>、
      <A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>CUBE</TT
></A
>和
      <A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>ROLLUP</TT
></A
>
     </P
></LI
><LI
><P
>      添加<A
HREF="ddl-rowsecurity.html"
>行级安全控制</A
>
     </P
></LI
><LI
><P
>      创建用于跟踪<A
HREF="replication-origins.html"
>复制进程</A
>的机制，
      包括在逻辑复制期间识别各个变化的起源的方法
     </P
></LI
><LI
><P
>      添加<A
HREF="brin.html"
>块范围索引</A
> (<ACRONYM
CLASS="ACRONYM"
>BRIN</ACRONYM
>)
     </P
></LI
><LI
><P
>      大幅提高了排序的性能
     </P
></LI
><LI
><P
>      多CPU机器的主要性能改进
     </P
></LI
></UL
><P
>    上述项目在下面的部分中更详细地解释。
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN132189"
>E.6.2. 迁移到版本 9.5</A
></H2
><P
>    那些希望从任意以前的版本中迁移数据的用户需要使用
    <A
HREF="app-pg-dumpall.html"
><SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
></A
>或使用<A
HREF="pgupgrade.html"
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
></A
>
    转储/恢复。
   </P
><P
>    版本9.5包含一些可能影响与以前版本兼容性的修改。
    注意下列的不兼容：
   </P
><P
></P
><UL
><LI
><P
>      调整<A
HREF="sql-syntax-lexical.html#SQL-PRECEDENCE"
>操作符优先级</A
>
      以匹配<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>标准 (Tom Lane)
     </P
><P
>      <TT
CLASS="LITERAL"
>&lt;=</TT
>、<TT
CLASS="LITERAL"
>&gt;=</TT
>和<TT
CLASS="LITERAL"
>&lt;&gt;</TT
>
      的优先级已经减少到与<TT
CLASS="LITERAL"
>&lt;</TT
>、<TT
CLASS="LITERAL"
>&gt;</TT
>
      和<TT
CLASS="LITERAL"
>=</TT
>匹配。<TT
CLASS="LITERAL"
>IS</TT
>测试的优先级（例如，
      <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> <TT
CLASS="LITERAL"
>IS NULL</TT
>）已经减少到刚好低于这六个比较运算符。
      此外，以<TT
CLASS="LITERAL"
>NOT</TT
>开头的多关键字运算符现在具有其基本运算符的优先级
      （例如，<TT
CLASS="LITERAL"
>NOT BETWEEN</TT
>现在具有与<TT
CLASS="LITERAL"
>BETWEEN</TT
>相同的优先级），
      而在它们具有不一致的优先级之前，相对于它们的左操作数，表现得像<TT
CLASS="LITERAL"
>NOT</TT
>，
      但是相对于它们的右操作数，它们类似于它们的基本操作符。
      可以启用新的配置参数<A
HREF="runtime-config-compatible.html#GUC-OPERATOR-PRECEDENCE-WARNING"
>operator_precedence_warning</A
>
      以警告有关这些优先级更改导致不同解析选择的查询。
     </P
></LI
><LI
><P
>      将<A
HREF="app-pg-ctl.html"
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
></A
>的缺省关闭模式从<TT
CLASS="LITERAL"
>smart</TT
>
      改为<TT
CLASS="LITERAL"
>fast</TT
> (Bruce Momjian)
     </P
><P
>      这意味着默认行为将强制取消现有的数据库会话，而不是简单地等待他们退出。
     </P
></LI
><LI
><P
>      在<SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
>分配中对数据类型转换使用赋值转换行为，
      而不是转换为文本转换 (Tom Lane)
     </P
><P
>      此更改会导致布尔转换为字符串产生<TT
CLASS="LITERAL"
>true</TT
>或<TT
CLASS="LITERAL"
>false</TT
>，
      而不是<TT
CLASS="LITERAL"
>t</TT
>或<TT
CLASS="LITERAL"
>f</TT
>。其他类型转换可能比以前在更多的情况下成功;
      例如，向整数变量分配数值<TT
CLASS="LITERAL"
>3.9</TT
>现在将分配4而不是失败。
      如果没有为特定的源和目标类型定义分配等级转换，则<SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
>
      将回退到其旧的I/O转换行为。
     </P
></LI
><LI
><P
>      允许<A
HREF="libpq-connect.html#LIBPQ-CONNECT-OPTIONS"
>服务器命令行选项</A
>
      中的字符用反斜杠转义 (Andres Freund)
     </P
><P
>      以前，选项字符串中的空格总是分隔开的选项，因此没有办法在选项值中包含空格。
      在选项值中包含反斜杠现在需要写入<TT
CLASS="LITERAL"
>\\</TT
>。
     </P
></LI
><LI
><P
>      修改GSSAPI <A
HREF="auth-methods.html#GSSAPI-AUTH"
><TT
CLASS="VARNAME"
>include_realm</TT
></A
>
      参数的缺省值为1，所以缺省情况下，范围不会从<ACRONYM
CLASS="ACRONYM"
>GSS</ACRONYM
>
      或<ACRONYM
CLASS="ACRONYM"
>SSPI</ACRONYM
>主体名称中删除 (Stephen Frost)
     </P
></LI
><LI
><P
>      用<A
HREF="runtime-config-wal.html#GUC-MIN-WAL-SIZE"
>min_wal_size</A
>和<A
HREF="runtime-config-wal.html#GUC-MAX-WAL-SIZE"
>max_wal_size</A
>
      替换配置参数<TT
CLASS="VARNAME"
>checkpoint_segments</TT
> (Heikki Linnakangas)
     </P
><P
>      如果您先前调整了<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>，
      以下公式将为您提供大致相等的设置:
</P><PRE
CLASS="PROGRAMLISTING"
>max_wal_size = (3 * checkpoint_segments) * 16MB</PRE
><P>
      请注意，<TT
CLASS="VARNAME"
>max_wal_size</TT
>的默认设置远高于之前的默认值
      <TT
CLASS="VARNAME"
>checkpoint_segments</TT
>，因此可能不再需要进行调整。
     </P
></LI
><LI
><P
>        通过新的环境变量<A
HREF="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT"
><TT
CLASS="ENVAR"
>PG_OOM_ADJUST_FILE</TT
></A
>和
        <A
HREF="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT"
><TT
CLASS="ENVAR"
>PG_OOM_ADJUST_VALUE</TT
></A
>
        控制Linux <ACRONYM
CLASS="ACRONYM"
>OOM</ACRONYM
> killer，而不是编译时选项<TT
CLASS="LITERAL"
>LINUX_OOM_SCORE_ADJ</TT
>
        和<TT
CLASS="LITERAL"
>LINUX_OOM_ADJ</TT
>
        (Gurjeet Singh)
       </P
></LI
><LI
><P
>      停用服务器配置参数<TT
CLASS="VARNAME"
>ssl_renegotiation_limit</TT
>，
      在早期版本中已弃用 (Andres Freund)
     </P
><P
>      虽然SSL重新协商在理论上是一个好主意，
      但它已经导致足够的错误在实践中被认为是一个净负面，
      并且它是由于从相关标准的未来版本中删除。因此，
      我们已从<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>中删除了对它的支持。
      <TT
CLASS="VARNAME"
>ssl_renegotiation_limit</TT
>参数仍然存在，
      但不能设置为零（禁用）。也不再记录它了。
     </P
></LI
><LI
><P
>      删除服务器配置参数<TT
CLASS="VARNAME"
>autocommit</TT
>，它早已被弃用和不可操作 (Tom Lane)
     </P
></LI
><LI
><P
>      删除<A
HREF="catalog-pg-authid.html"
><TT
CLASS="STRUCTNAME"
>pg_authid</TT
></A
>
      目录的<TT
CLASS="STRUCTFIELD"
>rolcatupdate</TT
>字段，因为它没什么用处了
      (Adam Brightwell)
     </P
></LI
><LI
><P
>      <A
HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"
><TT
CLASS="STRUCTNAME"
>pg_stat_replication</TT
></A
>
      系统视图的<TT
CLASS="STRUCTFIELD"
>sent</TT
>字段在它没有有效值时，现在是NULL，不是零 (Magnus Hagander)
     </P
></LI
><LI
><P
>      允许<TT
CLASS="TYPE"
>json</TT
>和<TT
CLASS="TYPE"
>jsonb</TT
>数组提取运算符接受负下标，
      从JSON数组的末尾开始计数
      (Peter Geoghegan, Andrew Dunstan)
     </P
><P
>      以前，这些运算符为负的下标返回<TT
CLASS="LITERAL"
>NULL</TT
>。
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN132286"
>E.6.3. 变化</A
></H2
><P
>    下面您将看到<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
    9.5和以前的主要版本之间的更改的详细信息。
   </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132290"
>E.6.3.1. 服务器</A
></H3
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132292"
>E.6.3.1.1. 索引</A
></H4
><P
></P
><UL
><LI
><P
>        新增<A
HREF="brin.html"
>Block Range Indexes</A
> (<ACRONYM
CLASS="ACRONYM"
>BRIN</ACRONYM
>)
        (&Aacute;lvaro Herrera)
       </P
><P
>        <ACRONYM
CLASS="ACRONYM"
>BRIN</ACRONYM
>索引仅存储堆块范围的汇总数据（如最小值和最大值）。
        因此，它们非常紧凑和便宜更新; 但是如果数据是自然聚类的，
        它们仍然可以提供大量的搜索加速。
       </P
></LI
><LI
><P
>        允许查询使用<A
HREF="gist.html"
>GiST</A
>索引对边界框索引对象
        （多边形，圆）执行精确的距离过滤 (Alexander Korotkov, Heikki
        Linnakangas)
       </P
><P
>        以前，为了利用这样的索引，必须使用子查询来选择通过边界框距离排序的大量行，
        并且然后必须用更精确的距离计算进一步过滤结果。
       </P
></LI
><LI
><P
>        允许<A
HREF="gist.html"
>GiST</A
>索引执行仅索引的扫描
        (Anastasia Lubennikova, Heikki Linnakangas, Andreas Karlsson)
       </P
></LI
><LI
><P
>        添加配置参数<A
HREF="runtime-config-client.html#GUC-GIN-PENDING-LIST-LIMIT"
>gin_pending_list_limit</A
>
        控制<ACRONYM
CLASS="ACRONYM"
>GIN</ACRONYM
>待处理列表的大小 (Fujii Masao)
       </P
><P
>        此值也可以基于每个索引设置为索引存储参数。以前，待处理列表大小由
        <A
HREF="runtime-config-resource.html#GUC-WORK-MEM"
>work_mem</A
>控制，这是尴尬的，因为
        <TT
CLASS="VARNAME"
> work_mem </TT
>的适当值通常太大，无法实现此目的。
       </P
></LI
><LI
><P
>        在创建<A
HREF="indexes-types.html"
>hash</A
>索引期间发出警告，
        因为它们不是崩溃安全的 (Bruce Momjian)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132318"
>E.6.3.1.2. 一般性能</A
></H4
><P
></P
><UL
><LI
><P
>        通过<SPAN
CLASS="QUOTE"
>"abbreviated"</SPAN
>关键字提升<TT
CLASS="TYPE"
>varchar</TT
>、
        <TT
CLASS="TYPE"
>text</TT
>和<TT
CLASS="TYPE"
>numeric</TT
>字段的排序顺序
        (Peter Geoghegan, Andrew Gierth, Robert Haas)
       </P
></LI
><LI
><P
>        扩展基础架构允许通过内联执行排序，非<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>
        可调用比较函数覆盖<TT
CLASS="COMMAND"
>CREATE INDEX</TT
>，<TT
CLASS="COMMAND"
>REINDEX</TT
>
        和<TT
CLASS="COMMAND"
>CLUSTER</TT
> (Peter Geoghegan)
       </P
></LI
><LI
><P
>        提高散列连接的性能 (Tomas Vondra, Robert Haas)
       </P
></LI
><LI
><P
>        提高共享缓冲区替换的并发性
        (Robert Haas, Amit Kapila, Andres Freund)
       </P
></LI
><LI
><P
>        在索引扫描期间减少页锁和引脚数 (Kevin Grittner)
       </P
><P
>        这样做的主要好处是允许不太频繁的阻塞索引清空。
       </P
></LI
><LI
><P
>        使缓冲器针脚的后端跟踪更具记忆效率
        (Andres Freund)
       </P
></LI
><LI
><P
>        提高锁可扩展性 (Andres Freund)
       </P
><P
>        这尤其涉及在具有多个<ACRONYM
CLASS="ACRONYM"
>CPU</ACRONYM
>套接字的系统上运行时的可扩展性问题。
       </P
></LI
><LI
><P
>        允许优化程序删除对左连接子查询的不必要引用 (David Rowley)
       </P
></LI
><LI
><P
>        适当时，允许使用<A
HREF="tutorial-window.html"
>窗口函数</A
>
        将查询限制下推到子查询中
        (David Rowley)
       </P
></LI
><LI
><P
>        如果该功能未接收到任何视图输出列，
        则允许将防漏功能下推到安全屏障视图中 (Dean Rasheed)
       </P
></LI
><LI
><P
>        当匹配的函数调用出现在<TT
CLASS="LITERAL"
>WHERE</TT
>中时，
        教导计划器使用从布尔返回函数的表达式索引获得的统计信息。 (Tom Lane)
       </P
></LI
><LI
><P
>        使<TT
CLASS="COMMAND"
>ANALYZE</TT
>计算基本统计（空分数和平均列宽），
        即使对于数据类型缺少等式函数的列 (Oleksandr Shulgin)
       </P
></LI
><LI
><P
>        加速<ACRONYM
CLASS="ACRONYM"
>CRC</ACRONYM
>（循环冗余校验）计算并切换到CRC-32C
        (Abhijit Menon-Sen, Heikki Linnakangas)
       </P
></LI
><LI
><P
>        提高位图索引扫描性能 (Teodor Sigaev, Tom Lane)
       </P
></LI
><LI
><P
>        通过避免不必要的内存复制加速<TT
CLASS="COMMAND"
>CREATE INDEX</TT
> (Robert Haas)
       </P
></LI
><LI
><P
>        增加缓冲区映射分区的数量 (Amit Kapila,
        Andres Freund, Robert Haas)
       </P
><P
>        这提高了高并发工作负载的性能。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132370"
>E.6.3.1.3. 监控</A
></H4
><P
></P
><UL
><LI
><P
>        通过新的<TT
CLASS="VARNAME"
>log_min_autovacuum_duration</TT
>
        存储参数添加每表自动记录日志控制
        (Michael Paquier)
       </P
></LI
><LI
><P
>        添加新的配置参数<A
HREF="runtime-config-logging.html#GUC-CLUSTER-NAME"
>cluster_name</A
>
        (Thomas Munro)
       </P
><P
>        通常在<A
HREF="config-setting.html#CONFIG-SETTING-CONFIGURATION-FILE"
><TT
CLASS="FILENAME"
>postgresql.conf</TT
></A
>
        中设置的此字符串，允许客户端标识集群。该名称也显示在所有服务器进程的进程标题中，
        从而可以更轻松地识别属于同一集群的进程。
       </P
></LI
><LI
><P
>        阻止非超级用户在连接启动时修改<A
HREF="runtime-config-logging.html#GUC-LOG-DISCONNECTIONS"
>log_disconnections</A
> (Fujii Masao)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132385"
>E.6.3.1.4. <ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
></A
></H4
><P
></P
><UL
><LI
><P
>        检查<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>服务器证书中的<A
HREF="libpq-ssl.html"
><SPAN
CLASS="QUOTE"
>"Subject Alternative
        Names"</SPAN
></A
>，如果有
        (Alexey Klyukin)
       </P
><P
>        当它们存在时，它将替换对证书的<SPAN
CLASS="QUOTE"
>"公用名称"</SPAN
>的检查。
       </P
></LI
><LI
><P
>        添加系统视图<A
HREF="monitoring-stats.html#PG-STAT-SSL-VIEW"
><TT
CLASS="STRUCTNAME"
>pg_stat_ssl</TT
></A
>报告
        <ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>连接信息 (Magnus Hagander)
       </P
></LI
><LI
><P
>        添加<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>函数以独立于实现的方式返回<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>信息 (Heikki Linnakangas)
       </P
><P
>        虽然<A
HREF="libpq-status.html#LIBPQ-PQGETSSL"
><CODE
CLASS="FUNCTION"
>PQgetssl()</CODE
></A
>
        仍可用于调用<SPAN
CLASS="PRODUCTNAME"
>OpenSSL</SPAN
>函数，但现在被视为已弃用，
        因为<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>的未来版本可能支持其他<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>实现。
        如有可能，请使用新函数<A
HREF="libpq-status.html#LIBPQ-PQSSLATTRIBUTE"
><CODE
CLASS="FUNCTION"
>PQsslAttribute()</CODE
></A
>、<A
HREF="libpq-status.html#LIBPQ-PQSSLATTRIBUTENAMES"
><CODE
CLASS="FUNCTION"
>PQsslAttributeNames()</CODE
></A
>
        和<A
HREF="libpq-status.html#LIBPQ-PQSSLINUSE"
><CODE
CLASS="FUNCTION"
>PQsslInUse()</CODE
></A
>
        以<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>实现无关的方式获得<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>信息。
       </P
></LI
><LI
><P
>        使<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>遵循任何<SPAN
CLASS="PRODUCTNAME"
>OpenSSL</SPAN
>
        线程回调 (Jan Urbanski)
       </P
><P
>        以前，他们是被重写的。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132424"
>E.6.3.1.5. 服务器设置</A
></H4
><P
></P
><UL
><LI
><P
>        用<A
HREF="runtime-config-wal.html#GUC-MIN-WAL-SIZE"
>min_wal_size</A
>和<A
HREF="runtime-config-wal.html#GUC-MAX-WAL-SIZE"
>max_wal_size</A
>
        替换配置参数<TT
CLASS="VARNAME"
>checkpoint_segments</TT
> (Heikki Linnakangas)
       </P
><P
>        这个改变允许分配大量的<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>文件，
        而不需要在它们不再需要时保留它们。因此，<TT
CLASS="VARNAME"
>max_wal_size</TT
>
        的默认值设置为<TT
CLASS="LITERAL"
>1GB</TT
>，远远大于<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>
        的旧默认值。另请注意，备用服务器执行重新启动点，
        以尝试将其WAL空间消耗限制为<TT
CLASS="VARNAME"
>max_wal_size</TT
>; 
        以前他们没有注意<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>。
       </P
></LI
><LI
><P
>        通过新的环境变量<A
HREF="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT"
><TT
CLASS="ENVAR"
>PG_OOM_ADJUST_FILE</TT
></A
>
        和<A
HREF="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT"
><TT
CLASS="ENVAR"
>PG_OOM_ADJUST_VALUE</TT
></A
>
        控制Linux <ACRONYM
CLASS="ACRONYM"
>OOM</ACRONYM
> killer
        (Gurjeet Singh)
       </P
><P
>        以前的<ACRONYM
CLASS="ACRONYM"
>OOM</ACRONYM
>控制基础设施涉及编译时选项
        <TT
CLASS="LITERAL"
>LINUX_OOM_SCORE_ADJ</TT
>和<TT
CLASS="LITERAL"
>LINUX_OOM_ADJ</TT
>，
        其不再被支持。新行为在所有构建中都可用。
       </P
></LI
><LI
><P
>        允许启用配置参数<A
HREF="runtime-config-replication.html#GUC-TRACK-COMMIT-TIMESTAMP"
>track_commit_timestamp</A
>
        时记录事务提交时间戳 (&Aacute;lvaro Herrera, Petr Jel&iacute;nek)
       </P
><P
>        使用函数<A
HREF="functions-info.html#FUNCTIONS-COMMIT-TIMESTAMP"
><CODE
CLASS="FUNCTION"
>pg_xact_commit_timestamp()</CODE
></A
>
        和<CODE
CLASS="FUNCTION"
>pg_last_committed_xact()</CODE
>可以访问时间戳信息。
       </P
></LI
><LI
><P
>        允许通过<TT
CLASS="COMMAND"
>ALTER ROLE SET</TT
>设置
        <A
HREF="runtime-config-client.html#GUC-LOCAL-PRELOAD-LIBRARIES"
>local_preload_libraries</A
>
        (Peter Eisentraut, Kyotaro Horiguchi)
       </P
></LI
><LI
><P
>        允许<A
HREF="routine-vacuuming.html#AUTOVACUUM"
>autovacuum workers</A
>
        在运行期间响应配置参数修改
        (Michael Paquier)
       </P
></LI
><LI
><P
>        使配置参数<A
HREF="runtime-config-preset.html#GUC-DEBUG-ASSERTIONS"
>debug_assertions</A
>只读
        (Andres Freund)
       </P
><P
>        这意味着，如果在编译时启用断言，则不能再关闭断言，从而实现更高效的代码优化。
        此更改也会删除<A
HREF="app-postgres.html#APP-POSTGRES-OPTIONS"
>postgres</A
> <TT
CLASS="OPTION"
>-A</TT
>选项。
       </P
></LI
><LI
><P
>        允许在没有任何影响的系统上设置
        <A
HREF="runtime-config-resource.html#GUC-EFFECTIVE-IO-CONCURRENCY"
>effective_io_concurrency</A
> (Peter Eisentraut)
       </P
></LI
><LI
><P
>        允许系统视图<A
HREF="view-pg-file-settings.html"
><TT
CLASS="STRUCTNAME"
>pg_file_settings</TT
></A
>
        显示服务器配置文件的内容
        (Sawada Masahiko)
       </P
></LI
><LI
><P
>        添加<TT
CLASS="STRUCTNAME"
>pending_restart</TT
>到系统视图<A
HREF="view-pg-settings.html"
><TT
CLASS="STRUCTNAME"
>pg_settings</TT
></A
>，
        表示已进行更改，但在数据库重新启动后才会生效 (Peter Eisentraut)
       </P
></LI
><LI
><P
>        允许<A
HREF="sql-altersystem.html"
><TT
CLASS="COMMAND"
>ALTER SYSTEM</TT
></A
>
        值使用<TT
CLASS="COMMAND"
>ALTER SYSTEM RESET</TT
>重新设置 (Vik
        Fearing)
       </P
><P
>        这个命令从<TT
CLASS="FILENAME"
>postgresql.auto.conf</TT
>中删除了指定设置。
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132489"
>E.6.3.2. 复制和恢复</A
></H3
><P
></P
><UL
><LI
><P
>        创建追踪<A
HREF="replication-origins.html"
>复制进程</A
>的机制，
        包括用于在逻辑复制期间识别个体变化的起源的方法 (Andres Freund)
       </P
><P
>        这在实施复制解决方案时很有用。
       </P
></LI
><LI
><P
>        重做截断multixact提交日志以正确WAL记录 (Andres Freund)
       </P
><P
>        这使得事情显得更简单和更健壮。
       </P
></LI
><LI
><P
>        添加<A
HREF="recovery-config.html"
><TT
CLASS="FILENAME"
>recovery.conf</TT
></A
>
        参数<A
HREF="recovery-target-settings.html#RECOVERY-TARGET-ACTION"
><TT
CLASS="VARNAME"
>recovery_target_action</TT
></A
>
        以控制恢复后活动 (Petr Jel&iacute;nek)
       </P
><P
>        这替换了旧参数<TT
CLASS="VARNAME"
>pause_at_recovery_target</TT
>。
       </P
></LI
><LI
><P
>        添加新的<A
HREF="runtime-config-wal.html#GUC-ARCHIVE-MODE"
>archive_mode</A
>值
        <TT
CLASS="LITERAL"
>always</TT
>，允许备用服务器总是归档接收到的
        <ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>文件 (Fujii Masao)
       </P
></LI
><LI
><P
>        添加配置参数<A
HREF="runtime-config-replication.html#GUC-WAL-RETRIEVE-RETRY-INTERVAL"
>wal_retrieve_retry_interval</A
>，
        控制<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>读取在失败后重试
        (Alexey Vasiliev, Michael Paquier)
       </P
><P
>        这对于热备份特别有用。
       </P
></LI
><LI
><P
>        允许压缩存储在<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>中的全页图像
        (Rahila Syed, Michael Paquier)
       </P
><P
>        此功能减少了WAL体积，以花费在WAL日志和WAL重放上的更多CPU时间为代价。
        它由一个新的配置参数<A
HREF="runtime-config-wal.html#GUC-WAL-COMPRESSION"
>wal_compression</A
>控制，
        该参数目前默认情况下是关闭的。
       </P
></LI
><LI
><P
>        在备用服务器提升期间用后缀<TT
CLASS="LITERAL"
>.partial</TT
>归档
        <ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>文件 (Heikki Linnakangas)
       </P
></LI
><LI
><P
>        添加配置参数<A
HREF="runtime-config-logging.html#GUC-LOG-REPLICATION-COMMANDS"
>log_replication_commands</A
>
        记录复制命令 (Fujii Masao)
       </P
><P
>        缺省的，复制命令，比如<A
HREF="protocol-replication.html"
><TT
CLASS="LITERAL"
>IDENTIFY_SYSTEM</TT
></A
>，
        是不记录的，即使<A
HREF="runtime-config-logging.html#GUC-LOG-STATEMENT"
>log_statement</A
>
        设置为<TT
CLASS="LITERAL"
>all</TT
>。
       </P
></LI
><LI
><P
>        在<A
HREF="view-pg-replication-slots.html"
><TT
CLASS="STRUCTNAME"
>pg_replication_slots</TT
></A
>
        中报告持有复制槽的进程
        (Craig Ringer)
       </P
><P
>        新的输出字段是<TT
CLASS="STRUCTNAME"
>active_pid</TT
>。
       </P
></LI
><LI
><P
>        允许<TT
CLASS="FILENAME"
>recovery.conf</TT
>的<A
HREF="standby-settings.html#PRIMARY-CONNINFO"
><TT
CLASS="VARNAME"
>primary_conninfo</TT
></A
>
        设置为使用连接<ACRONYM
CLASS="ACRONYM"
>URI</ACRONYM
>，例如<TT
CLASS="LITERAL"
>postgres://</TT
>
        (Alexander Shulgin)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132547"
>E.6.3.3. 查询</A
></H3
><P
></P
><UL
><LI
><P
>        允许会产生约束冲突的<A
HREF="sql-insert.html#SQL-ON-CONFLICT"
><TT
CLASS="COMMAND"
>INSERT</TT
></A
>s
        被转换为<TT
CLASS="COMMAND"
>UPDATE</TT
>s或者忽略 (Peter Geoghegan, Heikki
        Linnakangas, Andres Freund)
       </P
><P
>        语法是<TT
CLASS="COMMAND"
>INSERT ... ON CONFLICT DO NOTHING/UPDATE</TT
>。
        这是<TT
CLASS="COMMAND"
>UPSERT</TT
>命令的Postgres实现。
       </P
></LI
><LI
><P
>        添加<TT
CLASS="LITERAL"
>GROUP BY</TT
>分析功能<A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>GROUPING SETS</TT
></A
>、
        <A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>CUBE</TT
></A
>和
        <A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>ROLLUP</TT
></A
>
        (Andrew Gierth, Atri Sharma)
       </P
></LI
><LI
><P
>        允许在<A
HREF="sql-update.html"
><TT
CLASS="COMMAND"
>UPDATE</TT
></A
>
        中设置多个来自单个子选择结果的目标列 (Tom Lane)
       </P
><P
>        这是使用语法<TT
CLASS="COMMAND"
>UPDATE tab SET
        (col1, col2, ...) = (SELECT ...)</TT
>完成的。
       </P
></LI
><LI
><P
>        添加<A
HREF="sql-select.html"
><TT
CLASS="COMMAND"
>SELECT</TT
></A
>选项
        <TT
CLASS="LITERAL"
>SKIP LOCKED</TT
>跳过锁定的行 (Thomas Munro)
       </P
><P
>        这并不像<TT
CLASS="LITERAL"
>NOWAIT</TT
>那样为锁定的行抛出一个错误。
       </P
></LI
><LI
><P
>        添加<A
HREF="sql-select.html"
><TT
CLASS="COMMAND"
>SELECT</TT
></A
>选项
        <TT
CLASS="LITERAL"
>TABLESAMPLE</TT
>返回一个表的子设置 (Petr
        Jel&iacute;nek)
       </P
><P
>        此功能支持SQL标准表采样方法。此外，
        还有<A
HREF="tablesample-method.html"
>用户定义的表抽样方法</A
>。
       </P
></LI
><LI
><P
>        为错误的列名称建议可能的匹配项 (Peter
        Geoghegan, Robert Haas)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132589"
>E.6.3.4. 实用命令</A
></H3
><P
></P
><UL
><LI
><P
>        在<A
HREF="sql-explain.html"
><TT
CLASS="COMMAND"
>EXPLAIN</TT
></A
>
        输出中添加更多关于排序顺序的详细信息 (Marius Timmer,
        Lukas Kreft, Arne Scheffer)
       </P
><P
>        详细信息包括<TT
CLASS="LITERAL"
>COLLATE</TT
>、<TT
CLASS="LITERAL"
>DESC</TT
>、
        <TT
CLASS="LITERAL"
>USING</TT
>和<TT
CLASS="LITERAL"
>NULLS FIRST</TT
><TT
CLASS="LITERAL"
>/LAST</TT
>。
       </P
></LI
><LI
><P
>        让<A
HREF="sql-vacuum.html"
><TT
CLASS="COMMAND"
>VACUUM</TT
></A
>
        记录由于引脚跳过的页面数 (Jim Nasby)
       </P
></LI
><LI
><P
>        让<A
HREF="sql-truncate.html"
><TT
CLASS="COMMAND"
>TRUNCATE</TT
></A
>正确的更新
        <TT
CLASS="LITERAL"
>pg_stat</TT
>* 元组计数器 (Alexander Shulgin)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132611"
>E.6.3.4.1. <A
HREF="sql-reindex.html"
>REINDEX</A
></A
></H4
><P
></P
><UL
><LI
><P
>        允许<TT
CLASS="COMMAND"
>REINDEX</TT
>使用<TT
CLASS="LITERAL"
>SCHEMA</TT
>
        选项重新索引一个完整模式 (Sawada Masahiko)
       </P
></LI
><LI
><P
>        添加<TT
CLASS="LITERAL"
>VERBOSE</TT
>选项到<TT
CLASS="COMMAND"
>REINDEX</TT
> (Sawada
        Masahiko)
       </P
></LI
><LI
><P
>        阻止<TT
CLASS="COMMAND"
>REINDEX DATABASE</TT
>和<TT
CLASS="COMMAND"
>SCHEMA</TT
>
        输出对象名，除非使用了<TT
CLASS="LITERAL"
>VERBOSE</TT
>
        (Simon Riggs)
       </P
></LI
><LI
><P
>        从<TT
CLASS="COMMAND"
>REINDEX</TT
>中删除废弃的<TT
CLASS="LITERAL"
>FORCE</TT
>选项
        (Fujii Masao)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132632"
>E.6.3.5. 对象操作</A
></H3
><P
></P
><UL
><LI
><P
>        添加<A
HREF="ddl-rowsecurity.html"
>行级安全控制</A
>
        (Craig Ringer, KaiGai Kohei, Adam Brightwell, Dean Rasheed,
        Stephen Frost)
       </P
><P
>        此功能允许逐行控制哪些用户可以添加，修改或甚至查看表中的行。
        这是通过新的命令<A
HREF="sql-createpolicy.html"
><TT
CLASS="COMMAND"
>CREATE</TT
></A
>/<A
HREF="sql-alterpolicy.html"
><TT
CLASS="COMMAND"
>ALTER</TT
></A
>/<A
HREF="sql-droppolicy.html"
><TT
CLASS="COMMAND"
>DROP POLICY</TT
></A
>和<A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE ... ENABLE/DISABLE
        ROW SECURITY</TT
></A
>来控制的。
       </P
></LI
><LI
><P
>        在用<A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE ... SET LOGGED /
        UNLOGGED</TT
></A
>创建之后，允许修改该表的<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>
        登录状态 (Fabr&iacute;zio de Royes Mello)
       </P
></LI
><LI
><P
>        添加<TT
CLASS="LITERAL"
>IF NOT EXISTS</TT
>子句到<A
HREF="sql-createtableas.html"
><TT
CLASS="COMMAND"
>CREATE TABLE AS</TT
></A
>、
        <A
HREF="sql-createindex.html"
><TT
CLASS="COMMAND"
>CREATE INDEX</TT
></A
>、
        <A
HREF="sql-createsequence.html"
><TT
CLASS="COMMAND"
>CREATE SEQUENCE</TT
></A
>
        和<A
HREF="sql-creatematerializedview.html"
><TT
CLASS="COMMAND"
>CREATE
        MATERIALIZED VIEW</TT
></A
> (Fabr&iacute;zio de Royes Mello)
       </P
></LI
><LI
><P
>        添加对<TT
CLASS="LITERAL"
>IF EXISTS</TT
>的支持到<A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE ... RENAME
        CONSTRAINT</TT
></A
> (Bruce Momjian)
       </P
></LI
><LI
><P
>        允许一些DDL命令接受<TT
CLASS="LITERAL"
>CURRENT_USER</TT
>或<TT
CLASS="LITERAL"
>SESSION_USER</TT
>，
        意为当前用户或会话用户，替换指定的用户名 (Kyotaro Horiguchi,
        &Aacute;lvaro Herrera)
       </P
><P
>        这个特性现在在
        <A
HREF="sql-alteruser.html"
>ALTER USER</A
>、<A
HREF="sql-altergroup.html"
>ALTER GROUP</A
>、
        <A
HREF="sql-alterrole.html"
>ALTER ROLE</A
>、xref linkend="SQL-GRANT"&#62;
        和<TT
CLASS="COMMAND"
>ALTER <TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
> OWNER TO</TT
>命令中支持。
       </P
></LI
><LI
><P
>        支持<A
HREF="sql-createdomain.html"
>域约束</A
>上的注释 (&Aacute;lvaro Herrera)
       </P
></LI
><LI
><P
>        减少一些创建和更改触发器和外键命令的锁级别 (Simon Riggs, Andreas Karlsson)
       </P
></LI
><LI
><P
>        对于在目标表上具有<TT
CLASS="COMMAND"
>INSERT</TT
>权限的用户，
        允许<A
HREF="sql-lock.html"
><TT
CLASS="COMMAND"
>LOCK TABLE ... ROW EXCLUSIVE
        MODE</TT
></A
> (Stephen Frost)
       </P
><P
>        以前，此命令需要<TT
CLASS="COMMAND"
>UPDATE</TT
>，<TT
CLASS="COMMAND"
>DELETE</TT
>或<TT
CLASS="COMMAND"
>TRUNCATE</TT
>特权。
       </P
></LI
><LI
><P
>        通过名称按顺序应用表和域<TT
CLASS="LITERAL"
>CHECK</TT
>约束
        (Tom Lane)
       </P
><P
>        以前的排序是不确定的。
       </P
></LI
><LI
><P
>        允许<A
HREF="sql-createdatabase.html"
><TT
CLASS="COMMAND"
>CREATE</TT
></A
>/<A
HREF="sql-alterdatabase.html"
><TT
CLASS="COMMAND"
>ALTER DATABASE</TT
></A
>
        操纵<TT
CLASS="STRUCTNAME"
>datistemplate</TT
>和
        <TT
CLASS="STRUCTNAME"
>datallowconn</TT
> (Vik Fearing)
       </P
><P
>        这允许在不手动修改<A
HREF="catalog-pg-database.html"
><TT
CLASS="STRUCTNAME"
>pg_database</TT
></A
>
        系统目录的情况下更改这些每数据库设置。
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132707"
>E.6.3.5.1. <A
HREF="ddl-foreign-data.html"
>外部表</A
></A
></H4
><P
></P
><UL
><LI
><P
>        添加对<A
HREF="sql-importforeignschema.html"
>IMPORT FOREIGN SCHEMA</A
>的支持
        (Ronan Dunklau, Michael Paquier, Tom Lane)
       </P
><P
>        此命令允许自动创建与远程服务器上现有表的结构匹配的本地外部表。
       </P
></LI
><LI
><P
>        允许将<TT
CLASS="LITERAL"
>CHECK</TT
>约束放在外部表上
        (Shigeru Hanada, Etsuro Fujita)
       </P
><P
>        假定这样的约束在远程服务器上实施，并且不在本地实施。
        然而，假定它们用于查询优化的目的，
        比如<A
HREF="ddl-partitioning.html#DDL-PARTITIONING-CONSTRAINT-EXCLUSION"
>约束排除</A
>。
       </P
></LI
><LI
><P
>        允许外表参与继承 (Shigeru Hanada,
        Etsuro Fujita)
       </P
><P
>        为了自然地工作，外部表现在允许具有被标记为无效的检查约束，
        并且设置存储和<TT
CLASS="TYPE"
>OID</TT
>特性，即使这些操作实际上是对外表的无操作。
       </P
></LI
><LI
><P
>        允许外部数据包装器和自定义扫描实施连接下推 (KaiGai Kohei)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132726"
>E.6.3.5.2. <A
HREF="event-triggers.html"
>事件触发器</A
></A
></H4
><P
></P
><UL
><LI
><P
>         每当安装<TT
CLASS="LITERAL"
>ddl_command_end</TT
>事件触发器时，
         捕获<ACRONYM
CLASS="ACRONYM"
>DDL</ACRONYM
>活动的详细信息以便检查
         (&Aacute;lvaro Herrera)
        </P
><P
>         此信息可通过设置返回函数<A
HREF="functions-event-triggers.html#PG-EVENT-TRIGGER-DDL-COMMAND-END-FUNCTIONS"
><CODE
CLASS="FUNCTION"
>pg_event_trigger_ddl_commands()</CODE
></A
>，
         或者通过检查C数据结构（如果该函数不提供足够的细节）获得。
        </P
></LI
><LI
><P
>         允许由<A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE</TT
></A
>
         引起表重写的事件触发器 (Dimitri Fontaine)
        </P
></LI
><LI
><P
>         为数据库级别<A
HREF="sql-comment.html"
><TT
CLASS="COMMAND"
>COMMENT</TT
></A
>、<A
HREF="sql-security-label.html"
><TT
CLASS="COMMAND"
>SECURITY LABEL</TT
></A
>
         和<A
HREF="sql-grant.html"
><TT
CLASS="COMMAND"
>GRANT</TT
></A
>/<A
HREF="sql-revoke.html"
><TT
CLASS="COMMAND"
>REVOKE</TT
></A
>添加事件触发器支持 (&Aacute;lvaro Herrera)
        </P
></LI
><LI
><P
>         添加字段到<A
HREF="functions-event-triggers.html#PG-EVENT-TRIGGER-SQL-DROP-FUNCTIONS"
><CODE
CLASS="FUNCTION"
>pg_event_trigger_dropped_objects</CODE
></A
>
         的输出 (&Aacute;lvaro Herrera)
        </P
><P
>         这允许简单的删除操作处理。
        </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132756"
>E.6.3.6. 数据类型</A
></H3
><P
></P
><UL
><LI
><P
>       允许<A
HREF="datatype-xml.html"
><TT
CLASS="TYPE"
>xml</TT
></A
>
       数据类型接受空或者所有都是空格的文本值 (Peter Eisentraut)
      </P
><P
>       这是<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>/<ACRONYM
CLASS="ACRONYM"
>XML</ACRONYM
>声明所要求的。
      </P
></LI
><LI
><P
>       允许<A
HREF="datatype-net-types.html#DATATYPE-MACADDR"
><TT
CLASS="TYPE"
>macaddr</TT
></A
>
       输入使用格式<TT
CLASS="LITERAL"
>xxxx-xxxx-xxxx</TT
> (Herwin Weststrate)
      </P
></LI
><LI
><P
>       禁止使用精度和字段规范的<A
HREF="datatype-datetime.html#DATATYPE-INTERVAL-INPUT"
><TT
CLASS="TYPE"
>interval</TT
></A
>
       的非SQL标准语法 (Bruce Momjian)
      </P
><P
>       根据标准，这种类型规格应该写为，例如，
       <TT
CLASS="LITERAL"
>INTERVAL MINUTE TO SECOND(2)</TT
>。
       <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>以前允许这样写
       <TT
CLASS="LITERAL"
>INTERVAL(2) MINUTE TO SECOND</TT
>，但现在必须是以标准方式写。
      </P
></LI
><LI
><P
>       为运算符添加<A
HREF="datatype-net-types.html#DATATYPE-INET"
><TT
CLASS="TYPE"
>inet</TT
></A
>/<A
HREF="datatype-net-types.html#DATATYPE-CIDR"
><TT
CLASS="TYPE"
>cidr</TT
></A
>选择性估计值，
       并改进文本搜索功能的估计 (Emre Hasegeli, Tom Lane)
      </P
></LI
><LI
><P
>       添加数据类型<A
HREF="datatype-oid.html#DATATYPE-OID-TABLE"
><TT
CLASS="TYPE"
>regrole</TT
></A
>
       和<A
HREF="datatype-oid.html#DATATYPE-OID-TABLE"
><TT
CLASS="TYPE"
>regnamespace</TT
></A
>
       以简化输入和适当打印角色或名字空间的<TT
CLASS="TYPE"
>OID</TT
> (Kyotaro Horiguchi)
      </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132792"
>E.6.3.6.1. <A
HREF="datatype-json.html"
><ACRONYM
CLASS="ACRONYM"
>JSON</ACRONYM
></A
></A
></H4
><P
></P
><UL
><LI
><P
>        添加<TT
CLASS="TYPE"
>jsonb</TT
>函数<A
HREF="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_set()</CODE
></A
>
        和<A
HREF="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_pretty()</CODE
></A
>
        (Dmitry Dolgov, Andrew Dunstan, Petr Jel&iacute;nek)
       </P
></LI
><LI
><P
>        添加<TT
CLASS="TYPE"
>jsonb</TT
>生成函数<A
HREF="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE"
><CODE
CLASS="FUNCTION"
>to_jsonb()</CODE
></A
>、
        <A
HREF="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_object()</CODE
></A
>、
        <A
HREF="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_build_object()</CODE
></A
>、
        <A
HREF="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_build_array()</CODE
></A
>、
        <A
HREF="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_agg()</CODE
></A
>
        和<A
HREF="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_object_agg()</CODE
></A
>
        (Andrew Dunstan)
       </P
><P
>        类型<TT
CLASS="TYPE"
>json</TT
>的等效函数早已存在。
       </P
></LI
><LI
><P
>        减少<A
HREF="datatype-json.html"
><TT
CLASS="TYPE"
>json</TT
></A
>和<A
HREF="datatype-json.html"
><TT
CLASS="TYPE"
>jsonb</TT
></A
>的转换需求 (Tom Lane)
       </P
></LI
><LI
><P
>        允许<TT
CLASS="TYPE"
>text</TT
>、<TT
CLASS="TYPE"
>text</TT
>数组和<TT
CLASS="TYPE"
>integer</TT
>
        值从<TT
CLASS="TYPE"
>jsonb</TT
>文档中<A
HREF="functions-json.html#FUNCTIONS-JSONB-OP-TABLE"
>减去</A
>
        (Dmitry Dolgov, Andrew Dunstan)
       </P
></LI
><LI
><P
>        添加<TT
CLASS="TYPE"
>jsonb</TT
> <A
HREF="functions-json.html#FUNCTIONS-JSONB-OP-TABLE"
><TT
CLASS="LITERAL"
>||</TT
></A
>操作符
        (Dmitry Dolgov, Andrew Dunstan)
       </P
></LI
><LI
><P
>        添加<A
HREF="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE"
><CODE
CLASS="FUNCTION"
>json_strip_nulls()</CODE
></A
>
        和<A
HREF="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_strip_nulls()</CODE
></A
>
        函数从文档中删除JSON空值
        (Andrew Dunstan)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132845"
>E.6.3.7. 函数</A
></H3
><P
></P
><UL
><LI
><P
>        为<TT
CLASS="TYPE"
>numeric</TT
>值添加
        <A
HREF="functions-srf.html"
><CODE
CLASS="FUNCTION"
>generate_series()</CODE
></A
>
        (Plato Malugin)
       </P
></LI
><LI
><P
>        允许<A
HREF="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE"
><CODE
CLASS="FUNCTION"
>array_agg()</CODE
></A
>和
        <CODE
CLASS="FUNCTION"
>ARRAY()</CODE
>将数组作为输入 (Ali Akbar, Tom Lane)
       </P
></LI
><LI
><P
>        添加函数<A
HREF="functions-array.html#ARRAY-FUNCTIONS-TABLE"
><CODE
CLASS="FUNCTION"
>array_position()</CODE
></A
>
        和<A
HREF="functions-array.html#ARRAY-FUNCTIONS-TABLE"
><CODE
CLASS="FUNCTION"
>array_positions()</CODE
></A
>
        返回数组值的下标 (Pavel Stehule)
       </P
></LI
><LI
><P
>        添加<TT
CLASS="TYPE"
>point</TT
>-to-<TT
CLASS="TYPE"
>polygon</TT
>距离操作符
        <A
HREF="functions-geometry.html#FUNCTIONS-GEOMETRY-OP-TABLE"
>&lt;-&gt;</A
>
        (Alexander Korotkov)
       </P
></LI
><LI
><P
>        允许多字节字符在<A
HREF="functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP"
><TT
CLASS="LITERAL"
>SIMILAR TO</TT
></A
>
        和<A
HREF="functions-string.html#FUNCTIONS-STRING-SQL"
><TT
CLASS="LITERAL"
>SUBSTRING</TT
></A
>
        中作为转义
        (Jeff Davis)
       </P
><P
>        以前，只允许使用单字节字符作为转义。
       </P
></LI
><LI
><P
>        添加<A
HREF="functions-math.html#FUNCTIONS-MATH-FUNC-TABLE"
><CODE
CLASS="FUNCTION"
>width_bucket()</CODE
></A
>
        变体，支持任何可排序的数据类型和非均匀的桶宽度 (Petr Jel&iacute;nek)
       </P
></LI
><LI
><P
>        添加可选的<TT
CLASS="REPLACEABLE"
><I
>missing_ok</I
></TT
>参数到<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-GENFILE-TABLE"
><CODE
CLASS="FUNCTION"
>pg_read_file()</CODE
></A
>
        和相关的函数 (Michael Paquier, Heikki Linnakangas)
       </P
></LI
><LI
><P
>        允许<A
HREF="sql-syntax-calling-funcs.html"
><TT
CLASS="LITERAL"
>=&gt;</TT
></A
>
        在函数调用中指定命名的参数 (Pavel Stehule)
       </P
><P
>        以前只能使用<TT
CLASS="LITERAL"
>:=</TT
>。这需要消除<TT
CLASS="LITERAL"
>=&gt;</TT
>
        为用户定义的运算符的可能性。自PostgreSQL 9.0起，
        用户定义的<TT
CLASS="LITERAL"
>=&gt;</TT
>运算符已发出警告。
       </P
></LI
><LI
><P
>        对使用PostgreSQL提供的舍入函数的平台，
        添加<ACRONYM
CLASS="ACRONYM"
>POSIX</ACRONYM
>兼容的舍入 (Pedro Gimeno Fortea)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132896"
>E.6.3.7.1. 系统信息函数和视图</A
></H4
><P
></P
><UL
><LI
><P
>        添加函数<A
HREF="functions-info.html#FUNCTIONS-INFO-OBJECT-TABLE"
><CODE
CLASS="FUNCTION"
>pg_get_object_address()</CODE
></A
>
        返回唯一标识一个对象的<TT
CLASS="TYPE"
>OID</TT
>，函数<A
HREF="functions-info.html#FUNCTIONS-INFO-OBJECT-TABLE"
><CODE
CLASS="FUNCTION"
>pg_identify_object_as_address()</CODE
></A
>
        返回基于<TT
CLASS="TYPE"
>OID</TT
>的对象信息 (&Aacute;lvaro
        Herrera)
       </P
></LI
><LI
><P
>        在<A
HREF="monitoring-stats.html#PG-STAT-ACTIVITY-VIEW"
><TT
CLASS="STRUCTNAME"
>pg_stat_activity</TT
></A
>
        中放松对查看查询的安全检查，执行<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL-TABLE"
><CODE
CLASS="FUNCTION"
>pg_cancel_backend()</CODE
></A
>，
        并执行<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL-TABLE"
><CODE
CLASS="FUNCTION"
>pg_terminate_backend()</CODE
></A
>
        (Stephen Frost)
       </P
><P
>        以前，只有拥有目标会话的特定角色才能执行这些操作；现在成为该角色的成员就足够了。
       </P
></LI
><LI
><P
>        添加<A
HREF="monitoring-stats.html#MONITORING-STATS-FUNCS-TABLE"
><CODE
CLASS="FUNCTION"
>pg_stat_get_snapshot_timestamp()</CODE
></A
>
        输出统计状态快照的时间戳 (Matt Kelly)
       </P
><P
>        这表示最近的快照文件写入到了文件系统里。
       </P
></LI
><LI
><P
>        添加<A
HREF="routine-vacuuming.html#VACUUM-FOR-MULTIXACT-WRAPAROUND"
><CODE
CLASS="FUNCTION"
>mxid_age()</CODE
></A
>
        计算多xid的age (Bruce Momjian)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132925"
>E.6.3.7.2. 聚合</A
></H4
><P
></P
><UL
><LI
><P
>        为<A
HREF="datatype-net-types.html#DATATYPE-INET"
><TT
CLASS="TYPE"
>inet</TT
></A
>/<A
HREF="datatype-net-types.html#DATATYPE-CIDR"
><TT
CLASS="TYPE"
>cidr</TT
></A
>数据类型添加
        <CODE
CLASS="FUNCTION"
>min()</CODE
>/<CODE
CLASS="FUNCTION"
>max()</CODE
>聚合 (Haribabu
        Kommi)
       </P
></LI
><LI
><P
>        支持时，使用128位整数作为一些聚合函数的累加器 (Andreas Karlsson)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132938"
>E.6.3.8. 服务器端语言</A
></H3
><P
></P
><UL
><LI
><P
>       改进<A
HREF="plpython.html"
><SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
></A
>
       中对复合类型的支持 (Ed Behn, Ronan
       Dunklau)
      </P
><P
>       这允许<SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
>函数返回复合类型的数组。
      </P
></LI
><LI
><P
>       减少<A
HREF="plpython.html"
><SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
></A
>
       浮点数值转换的丢失 (Marko Kreen)
      </P
></LI
><LI
><P
>       允许在<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>数据类型和过程语言的数据类型之间指定转换例程 (Peter Eisentraut)
      </P
><P
>       这个修改添加了新的命令<A
HREF="sql-createtransform.html"
><TT
CLASS="COMMAND"
>CREATE</TT
></A
>/<A
HREF="sql-droptransform.html"
><TT
CLASS="COMMAND"
>DROP TRANSFORM</TT
></A
>。
       这也增加了<A
HREF="hstore.html"
><SPAN
CLASS="APPLICATION"
>hstore</SPAN
></A
>、<A
HREF="ltree.html"
><SPAN
CLASS="APPLICATION"
>ltree</SPAN
></A
>类型和<A
HREF="plperl.html"
><SPAN
CLASS="APPLICATION"
>PL/Perl</SPAN
></A
>、<A
HREF="plpython.html"
><SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
></A
>
       之间的可选转换。
      </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN132967"
>E.6.3.8.1. <A
HREF="plpgsql.html"
>PL/pgSQL</A
> 服务器端语言</A
></H4
><P
></P
><UL
><LI
><P
>       改进<A
HREF="plpgsql.html"
><SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
></A
>数组性能 (Tom Lane)
      </P
></LI
><LI
><P
>       在<SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
>中添加一个
       <A
HREF="plpgsql-errors-and-messages.html#PLPGSQL-STATEMENTS-ASSERT"
><TT
CLASS="COMMAND"
>ASSERT</TT
></A
>
       声明 (Pavel Stehule)
      </P
></LI
><LI
><P
>       允许更多<A
HREF="plpgsql.html"
><SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
></A
>
       关键字用作标识符 (Tom Lane)
      </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN132984"
>E.6.3.9. 客户端应用</A
></H3
><P
></P
><UL
><LI
><P
>       从<TT
CLASS="FILENAME"
>contrib</TT
>中移动<A
HREF="pgarchivecleanup.html"
><SPAN
CLASS="APPLICATION"
>pg_archivecleanup</SPAN
></A
>、
       <A
HREF="pgtestfsync.html"
><SPAN
CLASS="APPLICATION"
>pg_test_fsync</SPAN
></A
>、
       <A
HREF="pgtesttiming.html"
><SPAN
CLASS="APPLICATION"
>pg_test_timing</SPAN
></A
>
       和<A
HREF="pgxlogdump.html"
><SPAN
CLASS="APPLICATION"
>pg_xlogdump</SPAN
></A
>
       到<TT
CLASS="FILENAME"
>src/bin</TT
> (Peter Eisentraut)
      </P
><P
>       这将导致在大多数安装中默认安装这些程序。
      </P
></LI
><LI
><P
>       添加<A
HREF="app-pgrewind.html"
><SPAN
CLASS="APPLICATION"
>pg_rewind</SPAN
></A
>，
       其允许在故障恢复之后重新同步主服务器
       (Heikki Linnakangas)
      </P
></LI
><LI
><P
>       允许<A
HREF="app-pgreceivexlog.html"
><SPAN
CLASS="APPLICATION"
>pg_receivexlog</SPAN
></A
>
       管理物理复制槽 (Michael Paquier)
      </P
><P
>       这是通过新的<TT
CLASS="OPTION"
>--create-slot</TT
>和
       <TT
CLASS="OPTION"
>--drop-slot</TT
>选项控制的。
      </P
></LI
><LI
><P
>       允许<A
HREF="app-pgreceivexlog.html"
><SPAN
CLASS="APPLICATION"
>pg_receivexlog</SPAN
></A
>
       使用新的<TT
CLASS="OPTION"
>--synchronous</TT
>选项同步冲刷存储<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>
       (Furuya Osamu, Fujii Masao)
      </P
><P
>       没有这个，<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>文件仅在关闭时同步。
      </P
></LI
><LI
><P
>       允许<A
HREF="app-vacuumdb.html"
><SPAN
CLASS="APPLICATION"
>vacuumdb</SPAN
></A
>
       使用新的<TT
CLASS="OPTION"
>--jobs</TT
>选项并行清理 (Dilip Kumar)
      </P
></LI
><LI
><P
>       在<A
HREF="app-vacuumdb.html"
><SPAN
CLASS="APPLICATION"
>vacuumdb</SPAN
></A
>中，
       当需要多个连接时，不要重复提示输入相同的密码 (Haribabu Kommi, Michael Paquier)
      </P
></LI
><LI
><P
>       添加<TT
CLASS="OPTION"
>--verbose</TT
>选项到<A
HREF="app-reindexdb.html"
><SPAN
CLASS="APPLICATION"
>reindexdb</SPAN
></A
> (Sawada
       Masahiko)
      </P
></LI
><LI
><P
>       在使用<SPAN
CLASS="APPLICATION"
>tar</SPAN
>格式时，让
       <A
HREF="app-pgbasebackup.html"
><SPAN
CLASS="APPLICATION"
>pg_basebackup</SPAN
></A
>
       使用一个表空间映射文件，以在<SPAN
CLASS="SYSTEMITEM"
>MS Windows</SPAN
>
       上支持长度100+字符的符号连接和文件路径 (Amit Kapila)
      </P
></LI
><LI
><P
>       添加<A
HREF="pgxlogdump.html"
><SPAN
CLASS="APPLICATION"
>pg_xlogdump</SPAN
></A
>选项
       <TT
CLASS="OPTION"
>--stats</TT
>，显示总结状态信息 (Abhijit Menon-Sen)
      </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN133044"
>E.6.3.9.1. <A
HREF="app-psql.html"
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
>         允许<SPAN
CLASS="APPLICATION"
>psql</SPAN
>产生AsciiDoc输出 (Szymon Guz)
        </P
></LI
><LI
><P
>         添加一个<TT
CLASS="LITERAL"
>errors</TT
>模式，仅向<SPAN
CLASS="APPLICATION"
>psql</SPAN
>
         的<TT
CLASS="VARNAME"
>ECHO</TT
>变量显示失败的命令
         (Pavel Stehule)
        </P
><P
>         这个行为也可以用<SPAN
CLASS="APPLICATION"
>psql</SPAN
>的<TT
CLASS="OPTION"
>-b</TT
>选项来选择。
        </P
></LI
><LI
><P
>         在<SPAN
CLASS="APPLICATION"
>psql</SPAN
>的unicode线型中提供单独的列、标题和边框线型控制 (Pavel Stehule)
        </P
><P
>         支持单行或双行，缺省是<TT
CLASS="LITERAL"
>single</TT
>。
        </P
></LI
><LI
><P
>         在<SPAN
CLASS="APPLICATION"
>psql</SPAN
>的<A
HREF="app-psql.html#APP-PSQL-VARIABLES"
><TT
CLASS="ENVAR"
>PROMPT</TT
></A
>
         变量中添加新的选项<TT
CLASS="LITERAL"
>%l</TT
>，显示当前多行语句行号
         (Sawada Masahiko)
        </P
></LI
><LI
><P
>         添加<TT
CLASS="LITERAL"
>\pset</TT
>选项<A
HREF="app-psql.html#APP-PSQL-META-COMMANDS"
><TT
CLASS="VARNAME"
>pager_min_lines</TT
></A
>
         控制分页调用 (Andrew Dunstan)
        </P
></LI
><LI
><P
>         改进<SPAN
CLASS="APPLICATION"
>psql</SPAN
>行计数在决定调用分页时的使用 (Andrew Dunstan)
        </P
></LI
><LI
><P
>         如果<TT
CLASS="OPTION"
>--output</TT
>或<TT
CLASS="OPTION"
>--log-file</TT
>
         开关指定的文件不能写入，则<SPAN
CLASS="APPLICATION"
>psql</SPAN
>会失败
         (Tom Lane, Daniel V&eacute;rit&eacute;)
        </P
><P
>         以前，在这种情况下，它有效地忽略了开关。
        </P
></LI
><LI
><P
>         在设置<A
HREF="runtime-config-client.html#GUC-SEARCH-PATH"
>search_path</A
>变量时，
         添加了<SPAN
CLASS="APPLICATION"
>psql</SPAN
> tab完成 (Jeff Janes)
        </P
><P
>         当前仅有第一个模式可以tab完成。
        </P
></LI
><LI
><P
>         改进<SPAN
CLASS="APPLICATION"
>psql</SPAN
>对触发器和规则的tab完成
         (Andreas Karlsson)
        </P
></LI
></UL
><DIV
CLASS="SECT5"
><H5
CLASS="SECT5"
><A
NAME="AEN133092"
>E.6.3.9.1.1. <A
HREF="app-psql.html#APP-PSQL-META-COMMANDS"
>反斜杠命令</A
></A
></H5
><P
></P
><UL
><LI
><P
>         添加<SPAN
CLASS="APPLICATION"
>psql</SPAN
> <TT
CLASS="COMMAND"
>\?</TT
>帮助章节
         <TT
CLASS="LITERAL"
>variables</TT
>和<TT
CLASS="LITERAL"
>options</TT
> (Pavel Stehule)
        </P
><P
>         <TT
CLASS="LITERAL"
>\? variables</TT
>显示<SPAN
CLASS="APPLICATION"
>psql</SPAN
>的特殊变量，
         <TT
CLASS="LITERAL"
>\? options</TT
>显示命令行选项。
         <TT
CLASS="COMMAND"
>\? commands</TT
>显示元命令，这是传统的输出并且是默认的。
         这些帮助显示也可以使用命令行选项
         <TT
CLASS="LITERAL"
>--help=<TT
CLASS="REPLACEABLE"
><I
>section</I
></TT
></TT
>获得。
        </P
></LI
><LI
><P
>         在<SPAN
CLASS="APPLICATION"
>psql</SPAN
>的<TT
CLASS="LITERAL"
>\db+</TT
>中显示表空间大小
         (Fabr&iacute;zio de Royes Mello)
        </P
></LI
><LI
><P
>         在<SPAN
CLASS="APPLICATION"
>psql</SPAN
>的<TT
CLASS="LITERAL"
>\dT+</TT
>中显示数据类型所有者
         (Magnus Hagander)
        </P
></LI
><LI
><P
>         允许<SPAN
CLASS="APPLICATION"
>psql</SPAN
>的<TT
CLASS="COMMAND"
>\watch</TT
>输出
         <TT
CLASS="COMMAND"
>\timing</TT
>信息 (Fujii Masao)
        </P
><P
>         阻止<TT
CLASS="OPTION"
>--echo-hidden</TT
>输出
         <TT
CLASS="COMMAND"
>\watch</TT
>查询，因为这通常是不必要的。
        </P
></LI
><LI
><P
>         让<SPAN
CLASS="APPLICATION"
>psql</SPAN
>的<TT
CLASS="LITERAL"
>\sf</TT
>和<TT
CLASS="LITERAL"
>\ef</TT
>
         命令遵守<TT
CLASS="ENVAR"
>ECHO_HIDDEN</TT
> (Andrew Dunstan)
        </P
></LI
><LI
><P
>         改进<SPAN
CLASS="APPLICATION"
>psql</SPAN
>对<TT
CLASS="COMMAND"
>\set</TT
>、<TT
CLASS="COMMAND"
>\unset</TT
>
         和<TT
CLASS="LITERAL"
>:variable</TT
>名的tab完成 (Pavel
         Stehule)
        </P
></LI
><LI
><P
>         允许<SPAN
CLASS="APPLICATION"
>psql</SPAN
> <TT
CLASS="LITERAL"
>\c</TT
>命令中的角色名tab完成 (Ian Barwick)
        </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN133141"
>E.6.3.9.2. <A
HREF="app-pgdump.html"
>pg_dump</A
></A
></H4
><P
></P
><UL
><LI
><P
>        允许<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>使用<TT
CLASS="OPTION"
>--snapshot</TT
>
        共享由另一个会话拍摄的快照 (Simon Riggs, Michael Paquier)
       </P
><P
>        远程快照必须已通过<CODE
CLASS="FUNCTION"
>pg_export_snapshot()</CODE
>
        或逻辑复制插槽创建导出。这可以用于跨多个<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>进程共享一致的快照。
       </P
></LI
><LI
><P
>        支持tar归档格式的表大小超过8GB (Tom Lane)
       </P
><P
>        用于tar格式的POSIX标准不允许tar存档的元素超过8GB，
        但是tar的大多数现代实现都支持允许它的扩展。
        必要时使用扩展格式，而不是失败。
       </P
></LI
><LI
><P
>        让<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>总是打印服务器和
        <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>版本 (Jing Wang)
       </P
><P
>        以前，版本信息仅在<TT
CLASS="OPTION"
>--verbose</TT
>模式下打印。
       </P
></LI
><LI
><P
>        从<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>、<SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>
        和<SPAN
CLASS="APPLICATION"
>pg_restore</SPAN
>删除长期忽视的<TT
CLASS="OPTION"
>-i</TT
>/<TT
CLASS="OPTION"
>--ignore-version</TT
>
        选项 (Fujii Masao)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN133168"
>E.6.3.9.3. <A
HREF="app-pg-ctl.html"
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
>        支持多个<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
> <TT
CLASS="OPTION"
>-o</TT
>选项，
        串联他们的值 (Bruce Momjian)
       </P
></LI
><LI
><P
>        允许在<SPAN
CLASS="SYSTEMITEM"
>MS Windows</SPAN
>
        上控制<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>的事件源日志记录
        (MauMau)
       </P
><P
>        这仅仅控制<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>，没有服务器，
        服务器在<TT
CLASS="FILENAME"
>postgresql.conf</TT
>中有单独的设置。
       </P
></LI
><LI
><P
>        如果服务器监听地址设置为通配符值
        (IPv4中是<TT
CLASS="LITERAL"
>0.0.0.0</TT
>或者IPv6中是<TT
CLASS="LITERAL"
>::</TT
>)，
        通过回调地址连接，而不是尝试使用通配符地址 (Kondo Yuta)
       </P
><P
>        这个修复主要影响Windows，因为在其他平台上
        <SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>更倾向于使用Unix域套接字。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN133189"
>E.6.3.9.4. <A
HREF="pgupgrade.html"
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
>        从<TT
CLASS="FILENAME"
>contrib</TT
>中移动<SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>到
        <TT
CLASS="FILENAME"
>src/bin</TT
> (Peter Eisentraut)
       </P
><P
>        与此修改相关，<SPAN
CLASS="APPLICATION"
>pg_upgrade_support</SPAN
>
        模块以前提供的功能已经移动到了核心服务器中。
       </P
></LI
><LI
><P
>        支持多个<SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>
        <TT
CLASS="OPTION"
>-o</TT
>/<TT
CLASS="OPTION"
>-O</TT
>选项，
        串联他们的值 (Bruce Momjian)
       </P
></LI
><LI
><P
>        改善<SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>中数据库排序规则的比较 (Heikki Linnakangas)
       </P
></LI
><LI
><P
>        删除从8.3群集升级的支持 (Bruce Momjian)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN133210"
>E.6.3.9.5. <A
HREF="pgbench.html"
><SPAN
CLASS="APPLICATION"
>pgbench</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
>        从<TT
CLASS="FILENAME"
>contrib</TT
>中移动pgbench到<TT
CLASS="FILENAME"
>src/bin</TT
>
        (Peter Eisentraut)
       </P
></LI
><LI
><P
>        修复TPS数量<SPAN
CLASS="QUOTE"
>"排除连接建立"</SPAN
>的计算 (Tatsuo Ishii, Fabien Coelho)
       </P
><P
>        每当pgbench线程的数量小于客户端连接的数量时，连接建立的开销就被错误计算。
        虽然这显然是一个错误，但我们不会将它修补到9.5之前的分支，
        因为它使TPS数字与以前的结果不可比。
       </P
></LI
><LI
><P
>        允许计数接管指定时间量的pgbench事务 (Fabien Coelho)
       </P
><P
>        这是通过新的<TT
CLASS="OPTION"
>--latency-limit</TT
>选项控制的。
       </P
></LI
><LI
><P
>        允许pgbench使用<TT
CLASS="COMMAND"
>\setrandom</TT
>生成高斯/指数发布
        (Kondo Mitsumasa, Fabien Coelho)
       </P
></LI
><LI
><P
>        允许<SPAN
CLASS="APPLICATION"
>pgbench</SPAN
>的<TT
CLASS="COMMAND"
>\set</TT
>
        命令处理包含多个运算符的算术表达式，并且添加<TT
CLASS="LITERAL"
>%</TT
> (modulo)
        到它支持的运算符集 (Robert Haas, Fabien Coelho)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN133234"
>E.6.3.10. 源代码</A
></H3
><P
></P
><UL
><LI
><P
>        简化<A
HREF="wal.html"
><ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
></A
>记录格式
        (Heikki Linnakangas)
       </P
><P
>        这允许外部工具更容易地跟踪哪些块被修改。
       </P
></LI
><LI
><P
>        改进事务提交和中止WAL记录的表示 (Andres Freund)
       </P
></LI
><LI
><P
>        添加原子内存操作<ACRONYM
CLASS="ACRONYM"
>API</ACRONYM
> (Andres Freund)
       </P
></LI
><LI
><P
>        允许自定义路径和扫描方法 (KaiGai Kohei, Tom Lane)
       </P
><P
>        这允许扩展更好地控制优化器和执行器。
       </P
></LI
><LI
><P
>        允许外部数据包装器执行后过滤器锁定 (Etsuro
        Fujita)
       </P
></LI
><LI
><P
>        外部表现在可以参与<TT
CLASS="COMMAND"
>INSERT ... ON CONFLICT
        DO NOTHING</TT
>查询 (Peter Geoghegan, Heikki Linnakangas,
        Andres Freund)
       </P
><P
>        必须修改外部数据包装才能处理此问题。
        在外部表上不支持<TT
CLASS="COMMAND"
>INSERT ... ON CONFLICT DO UPDATE</TT
>。
       </P
></LI
><LI
><P
>        改进<CODE
CLASS="FUNCTION"
>hash_create()</CODE
>的一个用于选择简单二进制秘钥哈希函数的API
        (Teodor Sigaev, Tom Lane)
       </P
></LI
><LI
><P
>        改进并行执行基础架构 (Robert Haas, Amit
        Kapila, Noah Misch, Rushabh Lathia, Jeevan Chalke)
       </P
></LI
><LI
><P
>        删除<SPAN
CLASS="PRODUCTNAME"
>Alpha</SPAN
> (<ACRONYM
CLASS="ACRONYM"
>CPU</ACRONYM
>)和<SPAN
CLASS="SYSTEMITEM"
>Tru64</SPAN
> (OS) 接口 (Andres Freund)
       </P
></LI
><LI
><P
>        删除<ACRONYM
CLASS="ACRONYM"
>ARM</ACRONYM
>v5和更早版本<ACRONYM
CLASS="ACRONYM"
>CPU</ACRONYM
>的基于交换字节的自旋锁实现
        (Robert Haas)
       </P
><P
>        <ACRONYM
CLASS="ACRONYM"
>ARM</ACRONYM
>v5的弱内存排序使得这个锁定实现不安全。
        自旋锁支持仍然可能在更新的gcc实现与原子的支持。
       </P
></LI
><LI
><P
>        当过长（100+个字符）的文件路径写入tar文件时生成错误 (Peter Eisentraut)
       </P
><P
>        Tar不支持这种超长的路径。
       </P
></LI
><LI
><P
>        为字段<A
HREF="catalog-pg-seclabel.html"
><TT
CLASS="STRUCTNAME"
>pg_seclabel</TT
></A
>.<TT
CLASS="STRUCTNAME"
>provider</TT
>
        和<A
HREF="catalog-pg-shseclabel.html"
><TT
CLASS="STRUCTNAME"
>pg_shseclabel</TT
></A
>.<TT
CLASS="STRUCTNAME"
>provider</TT
>
        修改索引操作符类为<TT
CLASS="LITERAL"
>text_pattern_ops</TT
> (Tom Lane)
       </P
><P
>        当集群的不同数据库具有不同的缺省排序时，可以避免这些索引可能出现的问题。
       </P
></LI
><LI
><P
>        更改自旋锁基元以充当编译器障碍
        (Robert Haas)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN133288"
>E.6.3.10.1. MS Windows</A
></H4
><P
></P
><UL
><LI
><P
>        在<SPAN
CLASS="SYSTEMITEM"
>Windows 8</SPAN
>、
        <SPAN
CLASS="SYSTEMITEM"
>Windows Server 2012</SPAN
>
        和更高版本的Windows系统上允许更高精度的时间戳分辨率 (Craig Ringer)
       </P
></LI
><LI
><P
>        在<SPAN
CLASS="SYSTEMITEM"
>MS Windows</SPAN
>
        上安装共享的库到<TT
CLASS="FILENAME"
>bin</TT
> (Peter Eisentraut, Michael Paquier)
       </P
></LI
><LI
><P
>        在<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>构建上安装<TT
CLASS="FILENAME"
>src/test/modules</TT
>
        和<TT
CLASS="FILENAME"
>contrib</TT
> (Michael Paquier)
       </P
></LI
><LI
><P
>        允许<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>构建遵守<A
HREF="install-procedure.html"
>configure</A
>的
        <TT
CLASS="OPTION"
>--with-extra-version</TT
>选项 (Michael Paquier)
       </P
></LI
><LI
><P
>        传递<TT
CLASS="ENVAR"
>PGFILEDESC</TT
>到<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>贡献构建中
        (Michael Paquier)
       </P
></LI
><LI
><P
>        添加图标到所有<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>构造的二进制文件，添加版本信息到所有
        <SPAN
CLASS="SYSTEMITEM"
>MS Windows</SPAN
>二进制文件 (Noah Misch)
       </P
><P
>        MinGW已经有这样的图标。
       </P
></LI
><LI
><P
>        向内部<CODE
CLASS="FUNCTION"
>getopt_long()</CODE
>实现添加可选的参数支持 (Michael Paquier,
        Andres Freund)
       </P
><P
>        这是<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>构建所使用的。
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN133323"
>E.6.3.11. 其他模块</A
></H3
><P
></P
><UL
><LI
><P
>       添加最小，最大，平均和标准偏差时间的统计信息到<A
HREF="pgstatstatements.html#PGSTATSTATEMENTS-COLUMNS"
><SPAN
CLASS="APPLICATION"
>pg_stat_statements</SPAN
></A
>
       (Mitsumasa Kondo, Andrew Dunstan)
      </P
></LI
><LI
><P
>       添加<A
HREF="pgcrypto.html"
><SPAN
CLASS="APPLICATION"
>pgcrypto</SPAN
></A
>函数
       <CODE
CLASS="FUNCTION"
>pgp_armor_headers()</CODE
>提取<SPAN
CLASS="PRODUCTNAME"
>PGP</SPAN
>
       armor头 (Marko Tiikkaja, Heikki Linnakangas)
      </P
></LI
><LI
><P
>       在<A
HREF="unaccent.html"
><SPAN
CLASS="APPLICATION"
>unaccent</SPAN
></A
>
       中允许空的替换字符串 (Mohammad Alhashash)
      </P
><P
>       这在将附加符号表示为单独字符的语言中很有用。
      </P
></LI
><LI
><P
>       在<A
HREF="unaccent.html"
><SPAN
CLASS="APPLICATION"
>unaccent</SPAN
></A
>
       中允许多字符源字符串 (Tom Lane)
      </P
><P
>       这在将附加符号表示为单独字符的语言中很有用。它还允许更复杂的无关字典。
      </P
></LI
><LI
><P
>       添加<TT
CLASS="FILENAME"
>contrib</TT
>模块<A
HREF="tsm-system-rows.html"
><SPAN
CLASS="APPLICATION"
>tsm_system_rows</SPAN
></A
>和
       <A
HREF="tsm-system-time.html"
><SPAN
CLASS="APPLICATION"
>tsm_system_time</SPAN
></A
>，
       以允许额外的表采样方法 (Petr Jel&iacute;nek)
      </P
></LI
><LI
><P
>       添加<A
HREF="gin.html"
><ACRONYM
CLASS="ACRONYM"
>GIN</ACRONYM
></A
>
       索引观察函数到<A
HREF="pageinspect.html"
><SPAN
CLASS="APPLICATION"
>pageinspect</SPAN
></A
> (Heikki
       Linnakangas, Peter Geoghegan, Michael Paquier)
      </P
></LI
><LI
><P
>       将有关缓冲区引脚的信息添加到<A
HREF="pgbuffercache.html"
><SPAN
CLASS="APPLICATION"
>pg_buffercache</SPAN
></A
>显示
       (Andres Freund)
      </P
></LI
><LI
><P
>       允许<A
HREF="pgstattuple.html"
><SPAN
CLASS="APPLICATION"
>pgstattuple</SPAN
></A
>
       使用<CODE
CLASS="FUNCTION"
>pgstattuple_approx()</CODE
>
       以较少的开销报告近似答案 (Abhijit Menon-Sen)
      </P
></LI
><LI
><P
>       从<TT
CLASS="FILENAME"
>contrib</TT
>中移动<SPAN
CLASS="APPLICATION"
>dummy_seclabel</SPAN
>、
       <SPAN
CLASS="APPLICATION"
>test_shm_mq</SPAN
>、<SPAN
CLASS="APPLICATION"
>test_parser</SPAN
>和
       <SPAN
CLASS="APPLICATION"
>worker_spi</SPAN
>到<TT
CLASS="FILENAME"
>src/test/modules</TT
>
       (&Aacute;lvaro Herrera)
      </P
><P
>       这些模块仅用于服务器测试，因此在包装<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>时，
       不需要构建或安装这些模块。
      </P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-9-5-1.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#36215;&#22987;&#39029;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-9-4-9.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>版本 9.5.1</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>版本 9.4.9</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
