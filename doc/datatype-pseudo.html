<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>伪类型</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.0 手册"
HREF="index.html"><LINK
REL="UP"
TITLE="数据类型"
HREF="datatype.html"><LINK
REL="PREVIOUS"
TITLE="pg_lsn Type"
HREF="datatype-pg-lsn.html"><LINK
REL="NEXT"
TITLE="函数和操作符"
HREF="functions.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2017-12-17T04:56:33"></HEAD
><BODY
CLASS="SECT1"
>
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/9.6/postgresql/doc/src/sgml/datatype.sgml" target="_blank" 
title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.0 手册</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="pg_lsn Type"
HREF="datatype-pg-lsn.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="datatype.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>&#31456; 8. 数据类型</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="函数和操作符"
HREF="functions.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DATATYPE-PSEUDO"
>8.20. 伪类型</A
></H1
><P
>    <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>类型系统包含了一些特殊目的的项，它们被统称为<I
CLASS="FIRSTTERM"
>伪类型</I
>。一个伪类型不能被用作一个列的数据类型，但是它可以被用来定义一个函数的参数或者结果类型。每一种可用的伪类型都有其可以发挥作用的情况，这些情况的特点是一个函数的行为并不能符合于简单使用或者返回一种特定<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>数据类型的值。<A
HREF="datatype-pseudo.html#DATATYPE-PSEUDOTYPES-TABLE"
>&#34920; 8-25</A
>列出了现有的伪类型。
   </P
><DIV
CLASS="TABLE"
><A
NAME="DATATYPE-PSEUDOTYPES-TABLE"
></A
><P
><B
>&#34920; 8-25. 伪类型</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>名字</TH
><TH
>描述</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="TYPE"
>any</TT
></TD
><TD
>表示一个函数可以接受任意输入数据类型。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>anyelement</TT
></TD
><TD
>表示一个函数可以接受任意数据类型（参见<A
HREF="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC"
>第 36.2.5 &#33410;</A
>）。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>anyarray</TT
></TD
><TD
>表示一个函数可以接受任意数组数据类型（参见<A
HREF="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC"
>第 36.2.5 &#33410;</A
>）</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>anynonarray</TT
></TD
><TD
>表示一个函数可以接受任意非数组数据类型（参见<A
HREF="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC"
>第 36.2.5 &#33410;</A
>）。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>anyenum</TT
></TD
><TD
>表示一个函数可以接受任意枚举数据类型（参见<A
HREF="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC"
>第 36.2.5 &#33410;</A
>和<A
HREF="datatype-enum.html"
>第 8.7 &#33410;</A
>）。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>anyrange</TT
></TD
><TD
>表示一个函数可以接受任意范围数据类型（参见<A
HREF="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC"
>第 36.2.5 &#33410;</A
>和<A
HREF="rangetypes.html"
>第 8.17 &#33410;</A
>）。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>cstring</TT
></TD
><TD
>表示一个函数接受或者返回一个非空结尾的C字符串。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>internal</TT
></TD
><TD
>表示一个函数接受或返回一个服务器内部数据类型。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>language_handler</TT
></TD
><TD
>一个被声明为返回<TT
CLASS="TYPE"
>language_handler</TT
>的过程语言调用处理器。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>fdw_handler</TT
></TD
><TD
>一个被声明为返回<TT
CLASS="TYPE"
>fdw_handler</TT
>的外部数据包装器处理器。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>index_am_handler</TT
></TD
><TD
>一个被声明为返回<TT
CLASS="TYPE"
>index_am_handler</TT
>索引访问方法处理器。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>tsm_handler</TT
></TD
><TD
> 一个被声明为返回<TT
CLASS="TYPE"
>tsm_handler</TT
>的表采样方法处理器。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>record</TT
></TD
><TD
>标识一个接收或者返回一个未指定的行类型的函数。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>trigger</TT
></TD
><TD
>一个被声明为返回<TT
CLASS="TYPE"
>trigger</TT
>的触发器函数。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>event_trigger</TT
></TD
><TD
>一个被声明为返回<TT
CLASS="TYPE"
>event_trigger</TT
>的事件触发器函数。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>pg_ddl_command</TT
></TD
><TD
>标识一种对事件触发器可用的 DDL 命令的表达。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>void</TT
></TD
><TD
>表示一个函数不返回值。</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>opaque</TT
></TD
><TD
>一种已被废弃的类型名称，以前它用于实现所有以上的目的。</TD
></TR
></TBODY
></TABLE
></DIV
><P
>    用C编写的函数（不管是内建的还是动态载入的）可以被声明为接受或返回这些为数据类型的任意一种。函数的作者应当保证当一个伪类型被用作一个参数类型时函数的行为是安全的。
   </P
><P
>    用过程语言编写的函数只有在其实现语言允许的情况下才能使用伪类型。目前大部分过程语言都禁止使用伪类型作为一种参数类型，并且只允许使用<TT
CLASS="TYPE"
>void</TT
>和<TT
CLASS="TYPE"
>record</TT
>作为结果类型（如果函数被用于一个触发器或者事件触发器， <TT
CLASS="TYPE"
>trigger</TT
>或者<TT
CLASS="TYPE"
>event_trigger</TT
>也被允许作为结果类型）。某些过程语言也支持在多态函数中使用类型<TT
CLASS="TYPE"
>anyelement</TT
>、<TT
CLASS="TYPE"
>anyarray</TT
>、<TT
CLASS="TYPE"
>anynonarray</TT
>、<TT
CLASS="TYPE"
>anyenum</TT
>和<TT
CLASS="TYPE"
>anyrange</TT
>。
   </P
><P
>    <TT
CLASS="TYPE"
>internal</TT
>伪类型用于定义只在数据库系统内部调用的函数，这些函数不会被<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>直接调用。如果一个函数拥有至少一个<TT
CLASS="TYPE"
>internal</TT
>类型的参数，则它不能从<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>中被调用。为了保持这种限制的类型安全性，遵循以下编码规则非常重要：不要创建任何被声明要返回<TT
CLASS="TYPE"
>internal</TT
>的函数，除非它有至少一个<TT
CLASS="TYPE"
>internal</TT
>参数。
   </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="datatype-pg-lsn.html"
ACCESSKEY="P"
>&#19978;&#19968;&#39029;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#36215;&#22987;&#39029;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions.html"
ACCESSKEY="N"
>&#19979;&#19968;&#39029;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><ACRONYM
CLASS="ACRONYM"
>pg_lsn Type</ACRONYM
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="datatype.html"
ACCESSKEY="U"
>&#19978;&#19968;&#32423;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>函数和操作符</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
